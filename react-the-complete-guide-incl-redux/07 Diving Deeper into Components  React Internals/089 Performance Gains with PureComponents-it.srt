1
00:00:02,260 --> 00:00:07,840
Consentitemi di tornare all'aggiornamento dei componenti e di mostrare che  importante e perch potreste volerlo

2
00:00:08,490 --> 00:00:15,450
usare, modifichiamo la nostra app come il nostro modello un po 'in modo da avere un caso di utilizzo demo

3
00:00:15,460 --> 00:00:24,360
o aggiungere un cucciolo Leboeuf alla cabina di guida. BOTTEN dovrebbe sempre mostra il tipo di differenza della persona rispetto all'obiettivo, ma una cabina di guida

4
00:00:24,360 --> 00:00:26,190
 che non la attiva.

5
00:00:26,220 --> 00:00:27,730
Nascondili se sono visibili.

6
00:00:27,750 --> 00:00:30,520
Mostra se non sono utilizzabili ma mostra sempre loro.

7
00:00:30,570 --> 00:00:35,620
E se sono gi risibili, non fa nulla o  cos che potresti pensare.

8
00:00:36,060 --> 00:00:44,810
gestore di metodi che ci eseguir tutti in linea qui con la funzione freccia che viene eseguita al clic qui.

9
00:00:44,810 --> 00:00:50,350
Quindi aggiungiamo listener non cliccato e, per brevit, non creer un nuovo

10
00:00:50,370 --> 00:00:56,760
Chiamer questo stato impostato che, naturalmente, pu fare in linea o due e dire mostrare alle persone il vero.

11
00:00:56,910 --> 00:00:58,140
Quindi sempre vero.

12
00:00:58,140 --> 00:01:05,560
Anche in questo caso nessun targeting  sempre vero ma sembrer brutto ma far il trucco qui.

13
00:01:05,580 --> 00:01:09,930
Ora lasciami andare fino in fondo dovresti aggiornare.

14
00:01:09,930 --> 00:01:13,410
E l dovremmo tornare veri.

15
00:01:13,530 --> 00:01:15,270
Sempre vero.

16
00:01:15,270 --> 00:01:22,820
Ora andiamo a Parigi e inseguiamo e commentiamo anche il nostro assegno qui e invece torniamo veri anche qui.

17
00:01:22,920 --> 00:01:26,820
Quale sarebbe la piega se non implementiamo l'aggiornamento dei componenti.

18
00:01:27,000 --> 00:01:30,050
Ora torniamo alla nostra applicazione l.

19
00:01:30,130 --> 00:01:31,360
Se caricato

20
00:01:31,730 --> 00:01:36,400
Facciamo clic su Mostra persone che vediamo tutte le persone e si comporta come prima.

21
00:01:36,470 --> 00:01:39,810
Ora tutto cancellato per cancellare ma non ho ricaricato la pagina.

22
00:01:40,060 --> 00:01:42,810
Fammi fare nuovamente clic su Mostra persone.

23
00:01:42,940 --> 00:01:49,330
Ora quello che vedi  che ricominciamo tutti questi cicli di vita se l'aggiornamento dei

24
00:01:49,360 --> 00:01:56,770
componenti per l'apertura S aggiorneremo il rendering che le persone riceveranno mostrer che l'aggiornamento restituisce true, quindi continuer.

25
00:01:56,770 --> 00:02:04,600
Aggiorner render render per tutti i componenti della persona riattivazione passa dalla componentry completa e tutti i metodi

26
00:02:04,600 --> 00:02:07,870
di rendering anche se nulla  cambiato.

27
00:02:07,900 --> 00:02:10,150
Le borse non hanno cambiato la matrice non  cambiata.

28
00:02:10,210 --> 00:02:12,070
Niente  cambiato.

29
00:02:12,260 --> 00:02:19,220
Ora non confondere questo per re-agire rientrando nel dormitorio del browser.

30
00:02:19,270 --> 00:02:20,780
Non l'ha fatto.

31
00:02:20,800 --> 00:02:29,140
Puoi confermare questo andando ad elementi e l se vai alle opzioni qui a destra

32
00:02:29,140 --> 00:02:33,050
vai a pi strumenti e poi rendering.

33
00:02:33,190 --> 00:02:40,710
 possibile attivare la vernice che lampeggia per vedere le aree che devono essere ridipinte.

34
00:02:41,050 --> 00:02:47,030
Se lo fai e fai clic su Mostra persone vedrai solo il pulsante che deve essere ridipinto per la persona di destinazione.

35
00:02:47,230 --> 00:02:54,540
Vedrai molto che viene ridipinto ma per le persone dello spettacolo questo non accade, quindi non tocca il

36
00:02:54,540 --> 00:02:55,220
vero dormitorio.

37
00:02:55,290 --> 00:02:57,930
E 'solo e quello  appena successo perch  passato sopra.

38
00:02:57,930 --> 00:03:00,230
A proposito e lo disabiliter  di nuovo.

39
00:03:00,300 --> 00:03:03,490
La toccava solo ma non toccava la realt.

40
00:03:03,810 --> 00:03:08,690
E torner su come reagiamo in realt decidere se toccare il vero dom o no.

41
00:03:08,700 --> 00:03:15,150
Nelle prossime lezioni, ma per ora possiamo sapere che non tocca necessariamente il vero Dom solo se rileva

42
00:03:15,150 --> 00:03:18,960
differenze rispetto a ci che vede nei metodi di rendering.

43
00:03:19,080 --> 00:03:22,520
Ma per quello ovviamente ha bisogno di eseguire i metodi di rendering.

44
00:03:22,620 --> 00:03:25,330
E come puoi vedere nella console, lo ha fatto.

45
00:03:25,380 --> 00:03:27,150
Ha eseguito tutti i metodi di rendering.

46
00:03:27,390 --> 00:03:30,820
Questo ovviamente  un po 'inefficiente, specialmente per le app pi grandi.

47
00:03:30,840 --> 00:03:37,090
Qui non ci  costato molto ma se hai un sacco di bambini no  una lunga lista di persone

48
00:03:37,530 --> 00:03:41,760
che potrebbero passare attraverso tutti i metodi di rendering anche se nulla  cambiato.

49
00:03:41,910 --> 00:03:44,820
Davvero pu essere un problema di prestazioni.

50
00:03:44,970 --> 00:03:46,830
Ecco perch un debito privato.

51
00:03:46,950 --> 00:03:52,450
Abbiamo dovuto effettuare il check-in nel caso in cui l'aggiornamento dei componenti e le persone tornassero di nuovo veritiere

52
00:03:52,450 --> 00:03:53,620
e reintrodurre il debito.

53
00:03:53,700 --> 00:03:59,880
Ora qui controlla davvero se c' una differenza tra le persone e solo il pre-rendering

54
00:03:59,880 --> 00:04:01,790
 se rileva questa differenza.

55
00:04:01,830 --> 00:04:07,010
Ovviamente puoi anche aggiungere il controllo per tutte le altre propriet.

56
00:04:07,260 --> 00:04:16,820
diverso o se la propriet del numero modificato del prossimo prop  cambiata la sua differenza rispetto all'implementazione precedente del cambiamento.

57
00:04:16,860 --> 00:04:19,670
Quindi se il prossimo valore 

58
00:04:19,890 --> 00:04:27,670
Quindi se questo non  uguale a questo Propst cambiato ed infine lo stesso per i prossimi probs.

59
00:04:27,790 --> 00:04:30,980
Raccogli se i dati non sono uguali a questo puntello cliccato.

60
00:04:30,990 --> 00:04:35,430
Quindi, se qualcuno dei cambiamenti del prop interessato, ora continuiamo con l'aggiornamento.

61
00:04:35,670 --> 00:04:39,270
Ma se nessuna propriet  cambiata, non ci andiamo.

62
00:04:39,540 --> 00:04:44,160
Come puoi vedere qui ricarica chiaro clicca Mostra persone.

63
00:04:44,310 --> 00:04:49,920
ovviamente attraverso tutti i metodi di rendering, il che ha molto senso perch dobbiamo rendere l'intera

64
00:04:49,960 --> 00:04:55,920
lista, ma se ha cancellato di nuovo lo snakelike show, vedrete che ci sono dentro l'aggiornamento dei componenti.

65
00:04:55,950 --> 00:04:56,420
Andremo

66
00:04:56,430 --> 00:04:59,820
In realt s aggiorner in realt ha reso eps.

67
00:04:59,850 --> 00:05:06,630
S, perch restituiamo sempre true e dovremmo aggiornare i componenti l, ma poi per le persone inseguiamo

68
00:05:06,630 --> 00:05:10,950
che saremo a ricevere l'aggiornamento dei componenti dell'elica e abbiamo finito.

69
00:05:10,950 --> 00:05:12,120
Noi non continuiamo.

70
00:05:12,120 --> 00:05:19,070
Noi non chiamiamo render 4 persone e componenti di singole persone perch abbiamo rilevato in caso di

71
00:05:19,080 --> 00:05:24,190
aggiornamento calcolato delle persone geus che il Propst non ha effettivamente cambiato.

72
00:05:24,540 --> 00:05:31,460
Quindi il nostro Click qui non ha attivato un rendering reale o una chiamata di renderer per tutti questi componenti.

73
00:05:31,500 --> 00:05:37,780
Li ha fermati, ovviamente le persone possono fare lo stesso in Aperture S invece di restituire sempre true.

74
00:05:37,980 --> 00:05:41,120
Possiamo verificare se qualcosa  effettivamente cambiato nel nostro stato.

75
00:05:41,400 --> 00:05:50,510
Quindi se la nostra prossima persona statale  uno degli stati che abbiamo oltre al nostro stato e mostriamo persone.

76
00:05:50,710 --> 00:06:01,750
Quindi se le prossime prigioni statali non sono uguali a queste prigioni statali o se il prossimo stato mostra che le prigioni non sono uguali a

77
00:06:01,750 --> 00:06:11,460
questo stato mostrano le persone con questo controllo in atto dovremmo ora vedere che se faccio clic su Mostra persone seguiamo tutti i

78
00:06:11,460 --> 00:06:17,630
passaggi correttamente abbiamo reso  chiaro di cancellare e fare clic su Mostra di nuovo.

79
00:06:17,910 --> 00:06:23,640
Leggiamo solo l'aggiornamento dei componenti e basta perch rileviamo hey non  cambiato nulla.

80
00:06:23,640 --> 00:06:25,210
Non ho bisogno di continuare.

81
00:06:25,770 --> 00:06:31,020
Se rimuovo una persona, tuttavia,  corretto farlo e seguire tutti questi passaggi.

82
00:06:31,110 --> 00:06:37,740
Quindi questo  il modo migliore in cui possiamo gestirlo ora perch ci assicuriamo di eseguire il

83
00:06:37,740 --> 00:06:43,720
processo di aggiornamento solo se abbiamo bisogno di farlo e saltiamo il lavoro non necessario.

84
00:06:43,980 --> 00:06:46,440
E naturalmente sono per colpi di scena.

85
00:06:46,560 --> 00:06:52,710
Se in realt non abbiamo bisogno di fare aggiornamenti perch sappiamo cosa non  cambiato il Propst non 

86
00:06:52,710 --> 00:06:53,830
necessario fare tutto ci.

87
00:06:53,970 --> 00:06:58,200
Ora per un controllo del disco dove vediamo le propriet dello stato.

88
00:06:58,320 --> 00:07:03,100
Quindi tutte le propriet nel nostro stato o propriet del prop.

89
00:07:03,240 --> 00:07:07,850
Quindi qualsiasi propriet sull'oggetto dell'elica se una di queste modifiche  stata verificata.

90
00:07:07,860 --> 00:07:10,980
Non dobbiamo cavalcare da soli se  quello che vogliamo fare.

91
00:07:11,040 --> 00:07:17,880
Rendilo un confronto superficiale e sto dicendo superficiale perch non controlla profondamente questi oggetti.

92
00:07:18,000 --> 00:07:23,540
Rileva solo le differenze perch le aggiorniamo in modo immutabile che  importante.

93
00:07:23,910 --> 00:07:30,870
Quindi, se vuoi fare questo controllo superficiale, in realt non dobbiamo implementare l'aggiornamento dei componenti.

94
00:07:31,140 --> 00:07:38,740
Invece possiamo commentare questo ed ereditare da un diverso tipo di componente un componente puro.

95
00:07:39,030 --> 00:07:45,350
Questo  un oggetto diverso esposto dalla libreria di re-act ed  esattamente lo stesso del componente

96
00:07:45,900 --> 00:07:50,880
normale ma ha questo tipo di controllo di aggiornamento del componente shoat gi integrato.

97
00:07:50,970 --> 00:07:56,640
Fondamentalmente passer attraverso tutte le propriet degli oggetti di scena e le confronter con le loro vecchie

98
00:07:57,030 --> 00:08:02,320
adorazioni e continuer ad aggiornarsi solo se rileva differenze e fa lo stesso per lo stato.

99
00:08:02,430 --> 00:08:07,080
Quindi possiamo anche impostare effettivamente il tuo componente.

100
00:08:07,410 --> 00:08:13,450
Quindi importiamo il tuo componente in una certa misura con il tuo componente.

101
00:08:13,620 --> 00:08:14,940
Proviamo questo.

102
00:08:16,400 --> 00:08:17,380
E ancora.

103
00:08:17,390 --> 00:08:18,890
Grazie per il messaggio di errore.

104
00:08:18,890 --> 00:08:22,400
Dovremmo quindi rimuovere l'aggiornamento dei componenti in un componente puro.

105
00:08:22,490 --> 00:08:24,910
Perch di nuovo questo  gestito da reagire.

106
00:08:25,280 --> 00:08:28,490
Quindi riprova questo spettacolo che le persone lavorano.

107
00:08:28,700 --> 00:08:33,110
Cliccando di nuovo non vediamo il blocco della console perch non abbiamo il nostro metodo di

108
00:08:33,110 --> 00:08:39,040
aggiornamento del componente della shell, ma vedremmo i log della console di tutti gli aggiornamenti come posso provare se cambiamo qualcosa.

109
00:08:39,170 --> 00:08:45,290
Quindi otteniamo lo stesso comportamento di prima ma ora ottimizzato reagendo da questa implementazione

110
00:08:45,320 --> 00:08:47,300
automatica dell'aggiornamento dei componenti.

111
00:08:47,300 --> 00:08:51,580
Dovresti quindi utilizzare sempre componenti puri per l'intera applicazione.

112
00:08:51,800 --> 00:08:57,590
usare i componenti funzionali il pi spesso possibile dove non puoi usare questo perch non estendi nulla.

113
00:08:57,590 --> 00:09:00,770
E come questo ha senso se ti dico anche di

114
00:09:01,080 --> 00:09:05,540
Bene, la risposta  che non dovresti usare il componente ovunque nella tua applicazione.

115
00:09:05,720 --> 00:09:11,740
Dovresti usarlo solo se sai che gli aggiornamenti potrebbero non essere richiesti.

116
00:09:11,810 --> 00:09:16,620
D'altra parte si hanno componenti che potrebbero dipendere solo da uno o due oggetti di scena.

117
00:09:16,790 --> 00:09:21,620
E sai che ogni volta che gli updatter si innescano per questo componente, voglio

118
00:09:21,620 --> 00:09:29,270
aggiornarlo perch forse ho un paio di componenti puri nelle posizioni di vertice in questa componente che impediscono comunque l'aggiornamento di qualsiasi

119
00:09:29,270 --> 00:09:35,090
componente figlio, quindi non rendere tutto un componente puro perch alla fine puoi anche ottenere un successo

120
00:09:35,150 --> 00:09:36,730
in termini di prestazioni.

121
00:09:36,770 --> 00:09:39,380
Questo implementato dovrebbe aggiornare i componenti per te.

122
00:09:39,530 --> 00:09:43,880
E confronta tutti i vecchi oggetti di scena e stati con i nuovi oggetti di scena e stati.

123
00:09:43,880 --> 00:09:46,860
Ovviamente c' anche un po 'di performance.

124
00:09:47,060 --> 00:09:52,850
E se lo implementate da qualche parte dove avr sempre successo perch hai gi fatto

125
00:09:52,840 --> 00:09:59,350
questo controllo in un punto pi alto di questi componenti, allora stai davvero danneggiando la tua applicazione.

126
00:09:59,360 --> 00:10:01,730
Quindi non tutto dovrebbe essere un componente puro.

127
00:10:01,940 --> 00:10:06,300
Alcuni componenti puri posizionati strategicamente hanno per molto senso.

128
00:10:06,510 --> 00:10:09,010
Ora per scoprire dove metterli.

129
00:10:09,140 --> 00:10:15,860
Abbiamo bisogno di comprendere meglio come il re-act attraversi la nostra componentistica e come in

130
00:10:15,860 --> 00:10:19,420
realt decida di aggiornare veramente la vera alba.

131
00:10:19,430 --> 00:10:21,430
Diamo un'occhiata a questo nella prossima lezione.

