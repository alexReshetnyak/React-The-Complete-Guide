1
00:00:02,150 --> 00:00:07,760
Bu yzden ok fazla lam ektik ama yine de biraz kafa kartrc olduunu

2
00:00:07,850 --> 00:00:09,850
dnrdm, yaknda daha net olacak.

3
00:00:09,860 --> 00:00:13,020
Hadi hadi gidelim. eylemler klasrnde js

4
00:00:13,100 --> 00:00:16,840
dosyas, orada bizim k eylemcisi yaratcmz var ve

5
00:00:17,030 --> 00:00:20,080
burada ok nemli bir deiiklik yapmak istiyorum.

6
00:00:20,210 --> 00:00:25,810
Tm yerel depolama kodunu alacam ve buraya yorumlayacam, bunun yerine burada gerekten bir

7
00:00:25,940 --> 00:00:28,010
eylem gndermek istiyorum, bir eylem

8
00:00:28,020 --> 00:00:30,530
yaratmak istiyorum, baka hibir ey yok.

9
00:00:30,530 --> 00:00:35,990
Artk orada herhangi bir yan etkisi olmak istemiyorum nk bunlar imdi redux destan ile

10
00:00:36,010 --> 00:00:36,760
halletmek istiyorum.

11
00:00:37,190 --> 00:00:45,270
Bu yzden yapacam ey burada bir ey gnderiyorum ve bunun iin yeni bir eylem

12
00:00:45,290 --> 00:00:54,290
tr oluturacam, bu yzden auth knn yan sra, AUTH_INITIATE_LOGOUT ismini vereceim eylem trleri klasrne yeni bir

13
00:00:54,740 --> 00:00:59,220
sabit vereceim nk gerekten k yapmadan nce bir

14
00:01:00,100 --> 00:01:01,390
yazm hatas var.

15
00:01:01,730 --> 00:01:08,070
Bu, sabit olarak isimlendirdiimiz gibi ayn tanmlaycy her zaman bir dize olarak

16
00:01:08,320 --> 00:01:17,080
alacaktr ve imdi tekrar yetki alanna geri dneceim. js eylemleri dosyas ve burada, AUTH_INITIATE_LOGOUT eylem trlerini

17
00:01:17,080 --> 00:01:20,020
gnderirim ve artk k yok,

18
00:01:20,080 --> 00:01:27,290
bu yzden her defasnda k yaptktan sonra, imdi sadece k yerine oturumu balatacam.

19
00:01:27,640 --> 00:01:35,530
imdi hedef, bu yeni oluturulan eylem yaratcsn dinlemek ve bu k konumasn

20
00:01:35,560 --> 00:01:43,900
balattmz her defasnda logut destan retecimizi yrtmektir. Bunun iin sagas klasrnde yeni bir dosya oluturacam, indeks

21
00:01:44,100 --> 00:01:45,640
adn vereceim. js, ayrca kk,

22
00:01:45,670 --> 00:01:50,640
destan veya istediinizi de adlandrabilirsiniz. Endekste. js, auth destan

23
00:01:50,720 --> 00:01:59,520
dosyasndan bireyleri ie aktaracam ve tabi ki u ana kadar aldm tek destan, logo

24
00:01:59,520 --> 00:02:01,910
destan ama ayn zamanda

25
00:02:02,010 --> 00:02:07,270
bu redux destan paketinden bir ey ithal edeceim.

26
00:02:07,270 --> 00:02:15,820
Bu yzden redux destanndan alp vereceim, bu da kullanabileceimiz ve kullanabileceimiz bir

27
00:02:15,960 --> 00:02:25,320
baka yararl ilevdir. Her trl eylemi dinlememize ve ne zaman bir eyleri yapmamza

28
00:02:25,320 --> 00:02:27,350
izin vereceiz, imdi

29
00:02:27,570 --> 00:02:29,470
nasl kullanyoruz?

30
00:02:29,550 --> 00:02:36,450
ncelikle baka bir jeneratr oluturuyoruz, bu yzden fonksiyon anahtar kelimesinden sonra bu

31
00:02:36,450 --> 00:02:37,420
yldza sahip

32
00:02:37,480 --> 00:02:46,130
bir fonksiyon ve onu watchAuth olarak adlandracaz. imdi burada jeneratrlerimizde yapmamz gereken bir ey elde

33
00:02:46,120 --> 00:02:53,610
edeceim, temelde bunu altrdm syleyeyim ve bitirmek iin bekleyeceim ve sonra aldm, aldm

34
00:02:53,630 --> 00:02:55,010
ve aldm

35
00:02:55,210 --> 00:03:03,410
ilev, her zaman, dinlemek istediim eylemi geeceim. bu yzden ben de hereyi aksiyon trleri olarak

36
00:03:03,430 --> 00:03:09,820
alacam ve imdi eylemler dosyasna eylem trleri dosyasna gidelim ve burada

37
00:03:10,030 --> 00:03:12,510
her tr eylemi dinlemeyi balatacam.

38
00:03:13,060 --> 00:03:20,130
imdi TakeEvery ikinci bir argman alr, bu ikinci argman jeneratr, bu eylem

39
00:03:20,140 --> 00:03:21,490
gerekletiinde yrtmek

40
00:03:21,490 --> 00:03:26,200
istediimiz destan ve o destan k noktas olur.

41
00:03:26,200 --> 00:03:32,500
imdi ilevi altrmayn, bu yzden burada parantez kullanmayn, sadece bir referans iletin.

42
00:03:32,650 --> 00:03:38,910
Bunun yapaca ey, bu jeneratr ne zaman altrdmzda, temel olarak, bu durumda yetkinin oturum

43
00:03:38,920 --> 00:03:45,610
amay balatmas ve daha sonra ortaya ktnda k konumasn yrtmesi iin bir dinleyici kuracaz.

44
00:03:46,060 --> 00:03:52,300
imdi dizine gidebiliriz. js dosyas burada ve biz artk ilk

45
00:03:52,750 --> 00:03:56,630
bata logout destann altrmak istemiyoruz, bunun yerine jeneratr altryoruz.

46
00:03:56,890 --> 00:04:04,250
Yani endekste. js, ben sagas auth den logout

47
00:04:04,270 --> 00:04:08,430
destan artk ithal etmeyeceim, burada kurduumuz sagas

48
00:04:08,470 --> 00:04:15,400
/ index'ten yeni km olan watchAuth fonksiyonumuzu ithal etmek istiyorum. anahtar kelimeyi

49
00:04:15,410 --> 00:04:16,780
ona aktar.

50
00:04:16,780 --> 00:04:24,250
imdi bununla birlikte, watchAuth' ie aktarabilirim ve watchAuth' altrmak, gzlemcimizi uygulamann balangcnda doru

51
00:04:24,250 --> 00:04:26,570
bir ekilde ayarlamak istiyorum.

52
00:04:26,590 --> 00:04:29,630
imdi uygulamamza dnelim ve imdi alp

53
00:04:29,630 --> 00:04:38,800
almadna bakalm, eer yeniden yklersek, her ey daha nce olduu gibi grnyor, nemli bir deiiklik gryoruz, ancak, itiraf

54
00:04:38,800 --> 00:04:40,450
etmenin balatlmas balatlyor

55
00:04:40,450 --> 00:04:46,900
ve bu mantkl geliyor nk u anda bunu gnderiyoruz Hala ardmz oturum kapatma

56
00:04:46,900 --> 00:04:47,920
eylemi yaratcmz

57
00:04:47,950 --> 00:04:50,210
sizi kodda imzalamaya alyor.

58
00:04:50,530 --> 00:04:54,340
imdi, yeni eylem oluturucuyu kullanyoruz ve

59
00:04:54,670 --> 00:05:02,800
bundan sonra, outh knn gnderildiklerini greceimiz iin, destanmzn altn gryoruz, nk bunu, auth eylemi

60
00:05:02,800 --> 00:05:10,390
yaratcmzn herhangi bir yerinden, bu eylem trnden artk gndermiyoruz. logout artk burada kullanlmyor,

61
00:05:10,480 --> 00:05:14,610
bunun yerine oturum kapatma balatlyor, bu nedenle

62
00:05:14,880 --> 00:05:17,000
destanmz zaten alyor.

63
00:05:17,050 --> 00:05:20,260
imdi buradan gerekten giri yaparak ve sonra k

64
00:05:23,130 --> 00:05:25,130
dmesine basarak teyit edelim ve

65
00:05:25,350 --> 00:05:29,530
imdi k yaptk ve imdi yerel depoda olup olmadn grmek

66
00:05:32,300 --> 00:05:36,570
iin uygulama sekmesini kontrol edelim, hala bir jetonumuz var ve biz

67
00:05:36,650 --> 00:05:37,470
bo deiliz.

68
00:05:37,580 --> 00:05:39,060
yleyse gerekten

69
00:05:39,110 --> 00:05:41,270
temizledik, eyi kaldrdk,

70
00:05:41,330 --> 00:05:44,360
redux destan burada ie yarad.

71
00:05:44,380 --> 00:05:52,730
imdi bunu daha ak hale getirmek iin daha derine inelim ve bunun yerine aksiyon yaratmalarndaki tm yan

72
00:05:52,970 --> 00:05:55,480
etkilerin yerini destan reteleriyle deitirelim.

