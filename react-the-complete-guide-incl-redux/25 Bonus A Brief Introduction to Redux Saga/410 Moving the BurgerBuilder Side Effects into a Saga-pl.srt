1
00:00:02,140 --> 00:00:10,000
Kontynuujmy wic drog do wiata skoncentrowanego na twrcy czystych dziaa, zlecajc rwnie budowniczemu burgerowi i kodowi

2
00:00:10,180 --> 00:00:13,630
twrcy akcji zamwienie na sagi Zacznijmy od

3
00:00:13,870 --> 00:00:15,770
producenta hamburgerw, jeli przeanalizujemy

4
00:00:15,940 --> 00:00:20,290
plik twrcy akcji budowniczych burger, to jest bardzo proste,

5
00:00:20,290 --> 00:00:23,390
mamy Wielu twrcw czystych akcji ju

6
00:00:23,440 --> 00:00:27,630
tam jest, wic twrcy akcji, ktrzy to robi, tworz akcj.

7
00:00:27,940 --> 00:00:35,050
Ale mamy jedno narzdzie initIngredients, ktre uruchamia jaki asynchroniczny kod, ktry wykonuje efekt uboczny,

8
00:00:35,050 --> 00:00:36,390
wic utworz nowy

9
00:00:36,400 --> 00:00:45,010
plik w folderze sagas BurgerBuilder. js. Tam stworz sag initIngredients, ktra

10
00:00:45,030 --> 00:00:49,900
bdzie eksportowa funkcj generatora, doda sag po nazwie,

11
00:00:50,780 --> 00:00:59,840
dostaniemy tam nasz akcj, a teraz zabior kod z initIngredients i wstawi go do

12
00:01:00,710 --> 00:01:02,790
BurgerBuilder. Plik

13
00:01:02,800 --> 00:01:04,160
js tutaj.

14
00:01:04,930 --> 00:01:06,830
Teraz uywamy tutaj aksios, ale

15
00:01:06,950 --> 00:01:12,950
jeli wrcimy do pliku budowniczego hamburgera w folderze actions, widzimy, e faktycznie importujemy aksje

16
00:01:13,040 --> 00:01:18,930
z naszej niestandardowej instancji, abymy uyli naszej niestandardowej instancji osi z pliku zamwie axios.

17
00:01:19,040 --> 00:01:25,340
Uywam tego samego importu tutaj w moim pliku sagi, poniewa oczywicie chc uy tego samego

18
00:01:25,340 --> 00:01:35,340
wystpienia aksios tutaj, co oznacza, e moemy si go pozby w BurgerBuilder. Plik js w folderze actions.

19
00:01:35,490 --> 00:01:41,910
Teraz z powrotem w BurgerBuilder. Plik js w folderze sagas, importujemy

20
00:01:41,970 --> 00:01:48,720
wskaniki, teraz jeli spojrzymy na auth. Plik js, widzimy, e prawdopodobnie powinnimy rwnie

21
00:01:48,770 --> 00:01:53,790
importowa efekty saga redux, abymy mogli wysya akcje z naszej sagi.

22
00:01:53,820 --> 00:02:00,610
Dodajmy tu rwnie ten import i wykorzystam to samo, co wczeniej, przechowuj odpowied

23
00:02:00,620 --> 00:02:08,060
tutaj w staej odpowiedzi i uywam wydajnoci, aby czeka na jej zwrot i automatycznie

24
00:02:08,090 --> 00:02:11,190
uzyskaj dane, ktre ta obietnica daje

25
00:02:11,200 --> 00:02:19,190
nam po rozwizaniu, a take poradzisz sobie z poradzeniem sobie z niepowodzeniem, zapeni to sprbuj.

26
00:02:19,520 --> 00:02:24,680
Wic postaram si uzyska moj sta, moja odpowied tutaj powinienem powiedzie, ale jeli to

27
00:02:24,820 --> 00:02:32,110
si nie powiedzie, dobrze, e przejdziemy do bloku catch tutaj i zapiemy kady bd, ktry moemy mie, a nastpnie

28
00:02:34,370 --> 00:02:37,350
obchodzimy si z nim w bloku po tym.

29
00:02:37,670 --> 00:02:41,810
Jedyne, co robi, to wysyam co, wic w

30
00:02:41,810 --> 00:02:49,640
wiecie sag, robimy to, wykonujc put call, a to, co robimy, to oczywicie nasz twrca akcji,

31
00:02:49,640 --> 00:02:57,770
ktry tu wywouje, gdzie przekazujemy dane, ktre otrzymalimy. W tym celu bd musia zaimportowa je, wic zaimportuj wszystko

32
00:02:57,830 --> 00:03:00,340
jako akcje od teraz, a teraz

33
00:03:00,350 --> 00:03:05,610
przejdmy do folderu dziaa i tam do pliku indeksu, ktry moemy rwnie zaimportowa,

34
00:03:05,630 --> 00:03:13,640
po prostu odwoujc si do folderu jako caoci . A potem mog uzyska akcje put, a teraz

35
00:03:13,850 --> 00:03:15,820
wymagane s ustawienia SetIngredients,

36
00:03:15,830 --> 00:03:22,520
poniewa powinnimy upewni si, e w indeksie. Plik js w folderze actions, setIngredients jest faktycznie

37
00:03:22,550 --> 00:03:23,990
dostarczany, obecnie nie jest,

38
00:03:24,230 --> 00:03:32,480
wic dodajmy go jako eksport z pliku buildera burgera, setIngredients. Mamy tu rwnie bdy fetchIngredients,

39
00:03:32,490 --> 00:03:34,240
powinnimy te

40
00:03:34,410 --> 00:03:38,360
wyeksportowa to z budowniczego

41
00:03:38,460 --> 00:03:47,240
burgera, wic dodajmy to rwnie. Po dodaniu tych dwch eksportw moemy wrci do naszej sagi,

42
00:03:47,250 --> 00:03:50,230
a akcje wysykowe ustawi skadniki, przekaza dane

43
00:03:51,070 --> 00:03:53,010
odpowiedzi, whoops przepraszam, oczywicie

44
00:03:53,110 --> 00:04:01,300
tutaj, wic przekazuj dane odpowiedzi lub w przypadku bdu, dziaania. fetchIngredientsFailed, upewnij si, e to

45
00:04:01,330 --> 00:04:02,740
te wykonasz,

46
00:04:02,730 --> 00:04:07,310
moesz nastpnie usun tam kod catch.

47
00:04:07,320 --> 00:04:09,750
To jest nasza nowo

48
00:04:10,090 --> 00:04:17,890
stworzona saga, powrmy teraz do indeksu. js tam i zarejestrujmy to, a do tego wyeksportuj

49
00:04:17,900 --> 00:04:23,550
tutaj nowy generator, ktry nazwabym watchBurgerBuilder, aby zgrupowa cay kod zwizany z budowniczym burgera.

50
00:04:23,710 --> 00:04:30,280
Technicznie moglibymy doda go rwnie tutaj i moglibymy mie jedn du funkcj lub generator zegarkw, ale

51
00:04:30,280 --> 00:04:31,770
chciabym mie wiele takich

52
00:04:32,350 --> 00:04:35,650
funkcji, a nastpnie zaimportowa moje sagi, tutaj jest

53
00:04:35,680 --> 00:04:40,850
tylko jeden, ale moe by wicej. / BurgerBuilder i ta

54
00:04:41,190 --> 00:04:45,080
jedna saga, ktr mamy, to

55
00:04:45,430 --> 00:04:47,540
oczywicie saga initIngredients.

56
00:04:47,800 --> 00:04:49,660
Tak wic w watchBurgerBuilder

57
00:04:49,870 --> 00:04:50,980
bd generowa

58
00:04:51,040 --> 00:04:54,230
akcje typu TakeEvery, a teraz potrzebuj

59
00:04:54,430 --> 00:05:00,460
nowego typu akcji, ktry faktycznie wysyamy do pliku budowniczego hamburgera w twrcy

60
00:05:00,460 --> 00:05:02,770
akcji lub w folderze akcji.

61
00:05:02,860 --> 00:05:08,890
A wic to, co teraz stworzylimy, poniewa nie chc ju zwraca wysyki i uruchamia

62
00:05:08,890 --> 00:05:12,550
tam kodu asynchronicznego, po prostu chc utworzy akcj.

63
00:05:12,820 --> 00:05:18,690
Utwrzmy dla tego nowy typ akcji, utworz sta tutaj w folderze

64
00:05:18,690 --> 00:05:20,820
typw dziaa, ktry nazwabym

65
00:05:20,850 --> 00:05:25,310
INIT_INGREDIENTS, wic tak jak nazywa si twrca akcji,

66
00:05:25,310 --> 00:05:31,890
INIT_INGREDIENTS, tak jak to iw twrcy akcji, w plik budowniczego hamburgera w

67
00:05:32,250 --> 00:05:38,710
folderze akcji, ustawi typ na actionTypes. INIT_INGREDIENTS.

68
00:05:38,740 --> 00:05:41,350
A wic jest to typ akcji,

69
00:05:41,410 --> 00:05:49,330
ktrej chcesz sucha, wic w indeksie. Plik js, posucham actionTypes. INIT_INGREDIENTS i wykonam initIngredientsSaga,

70
00:05:49,410 --> 00:05:51,990
gdy tylko to nastpi.

71
00:05:52,210 --> 00:06:00,100
Ostatnim krokiem jest rwnie wywoanie tej nowo utworzonej funkcji generatora z naszego indeksu. plik js na gwnym poziomie naszej aplikacji,

72
00:06:00,100 --> 00:06:07,280
eby tak rzec, tam gdzie mamy uruchomione oprogramowanie middleware saga uwaaj, dodam te

73
00:06:07,390 --> 00:06:09,640
uruchomienie middleware saga, a

74
00:06:09,850 --> 00:06:16,270
teraz zaimportujmy to z naszego folderu sagas, aby obejrze budowniczego burgera,

75
00:06:16,550 --> 00:06:21,540
ta saga tutaj powinna rwnie by uruchamiane na pocztku

76
00:06:21,580 --> 00:06:25,650
bez nawiasw tutaj. Zachowajmy to wszystko i

77
00:06:26,110 --> 00:06:26,920
wyglda to

78
00:06:26,920 --> 00:06:30,440
dobrze, a my z powodzeniem inicjujemy nasze skadniki.

79
00:06:30,550 --> 00:06:37,060
Jeli ponownie zaaduj t aplikacj, zobaczymy tu SetIngredients, a my ustawiamy

80
00:06:37,060 --> 00:06:45,720
skadniki i dziaa to, poniewa mamy sag o budowniczych hamburgerw, w ktrej uzyskujemy setIngredients.

81
00:06:45,880 --> 00:06:53,610
Jeli skomentuj to tutaj, zobaczysz, e mamy nieskoczony ekran adowania, poniewa nigdy nie ustawilimy skadnikw, wic moemy

82
00:06:53,700 --> 00:06:57,570
naprawd powiedzie, e nasza saga dziaa poprawnie tutaj.

83
00:06:57,780 --> 00:06:59,070
Pozwl mi skomentowa to z powrotem.

