1
00:00:02,130 --> 00:00:08,590
Bu nedenle, son derste, ierik oluturucu dosyamzdan ierik auth destanmza d kaynak kullanmaya devam ettik.

2
00:00:08,670 --> 00:00:17,610
Bununla devam edelim ve hadi halimize devam edelim. js dosyas, burada gerekten kimlik dorulamas yaptmz

3
00:00:17,610 --> 00:00:27,720
eylemler klasrnde, balang noktas gndeririz ve sonra biz de, Ajax isteimizi burada, iyi kimlik dorulamaya altmz ve

4
00:00:27,810 --> 00:00:35,640
yalnzca kayt olmay veya oturum amay denediimiz yer olan Ajax isteimize sahip oluruz.

5
00:00:35,640 --> 00:00:43,380
Ama imdi bunu bir destanla halletmek olurdu. Elbette bunu yapmak iin, orada yeni

6
00:00:43,380 --> 00:00:53,440
bir jeneratr fonksiyonu yaratn, bu yzden yldzla bir ilev ve bu authSaga veya authenticateUserSaga ismini verelim,

7
00:00:53,440 --> 00:00:56,180
authUserSaga adn verelim. Orada benim

8
00:00:56,180 --> 00:01:01,110
de eylemimi gerekletiriyorum ve imdi yine kodu burada altrabiliriz.

9
00:01:01,250 --> 00:01:09,200
imdi bizim eylem yaratcmzda, yaptmz ey, balangta bir balang balattk ve daha sonra HTTP isteimizi yaptk,

10
00:01:09,200 --> 00:01:14,210
tm bu kodu desta kopyalayaym ve oraya adm adm geelim.

11
00:01:14,390 --> 00:01:18,610
Her eyden nce, destanda byle bir arda

12
00:01:18,860 --> 00:01:21,310
bulunmadmz rendiniz, bunun yerine

13
00:01:21,320 --> 00:01:30,830
biz diyoruz, bu yzden ilk yaptmz ey, auth start'm kullanmak istediim eylemleri ortaya koymak ve ulamak iin

14
00:01:30,920 --> 00:01:33,140
eylem, bunun iin dizine

15
00:01:33,140 --> 00:01:34,130
gidelim. js

16
00:01:34,150 --> 00:01:41,060
dosyas eylemler klasrnde, authStart'n dier dosyalara ie aktarlabilmesi iin oralara aktarldndan emin

17
00:01:41,060 --> 00:01:41,360
olalm,

18
00:01:41,360 --> 00:01:49,850
bu ihracat imdi ve geri admda ekledim. Saga klasrnde js dosyas,

19
00:01:49,850 --> 00:01:58,020
imdi eylemleri kullanabilirim. authBu iinizle balayn ve bu gnderim ilemini gerekletirmek iin bu ilevi altrn.

20
00:01:58,040 --> 00:02:00,570
Yani buraya koyduumuz ilk ey bu.

21
00:02:00,770 --> 00:02:05,900
Ardndan e-posta ve ifreyi kullandmz e-posta verilerini

22
00:02:05,900 --> 00:02:13,330
oluturuyoruz, imdi burada e-postay eylemden ve ifreden eylemden karmalym, bu

23
00:02:13,330 --> 00:02:21,280
ayn zamanda authUserSaga her altrldnda aslnda bu bilgiyi ierir, bunu bir

24
00:02:21,730 --> 00:02:28,350
sonraki admda yapacaz, bunu yapmadan nce, burada kodda ilerleyelim.

25
00:02:28,540 --> 00:02:31,290
Bir URL oluturduk ve daha sonra bir

26
00:02:31,480 --> 00:02:35,830
kontrol edelim, bir de eylem ayarlayacam. bir ek ile isSupUp.

27
00:02:35,830 --> 00:02:40,060
Daha sonra, imdi auth'da, imdi axios kullandmz

28
00:02:40,110 --> 00:02:44,190
HTTP isteimiz var. js dosyas, aksiyomlardan eksenleri

29
00:02:44,200 --> 00:02:46,450
ithal ediyoruz, zel rneimizi kullanmyoruz.

30
00:02:46,450 --> 00:02:52,730
Bu yzden destan dosyasna gidelim ve sadece oradakileri de ekleyelim.

31
00:02:54,040 --> 00:02:57,530
imdi bizim destanmzda, bu artk bir

32
00:02:57,760 --> 00:03:04,830
hata atmyor ama imdi nemli bir ey yaplyor, aslnda bu szmz kullanmamzn eklini

33
00:03:04,940 --> 00:03:10,490
deitireceiz, imdi oraya cevab alp cevabmzla bir eyler yapyoruz. .

34
00:03:10,510 --> 00:03:16,780
Bunu deitireceim, yeni bir sabit, yant oluturacam ve aksiyomu atayacam. Aksi halde,

35
00:03:16,840 --> 00:03:22,750
aksios postu bir sz verdiinden yanl olur, ancak imdi bir yan notun

36
00:03:23,140 --> 00:03:28,990
redux tarafndan aklanmad gibi getiri anahtar kelimesini ekleyeceim destan ama bu jeneratr

37
00:03:29,080 --> 00:03:32,200
kavramna bal yeni nesil javascript zellikleridir.

38
00:03:32,200 --> 00:03:34,210
imdi bunu yaparak, aslnda

39
00:03:34,210 --> 00:03:37,360
artk burada bir sz vermeyecek, ancak

40
00:03:37,480 --> 00:03:45,330
bu sz geri almay, reddetmeyi ve sonra bu sabitte geri aldmz her eyi saklamay bekleyeceiz,

41
00:03:45,520 --> 00:03:48,960
bu yzden artk burada zincirleme yapmam gerekmiyor.

42
00:03:49,090 --> 00:03:57,600
Bu, artk burada ihtiyacm olmad anlamna geliyor, bunu kaldrabilirim, ayrca yaknda yakalamay da kaldracaz ve elbette,

43
00:03:57,600 --> 00:04:02,510
ayn zamanda yantlamaya bal olan tm kodun artk ezamanl

44
00:04:02,670 --> 00:04:10,390
olarak yrtlebilecei anlamna gelir, nk yrtme bu zamana kadar burada duraklayacaktr sz, zlr veya reddedilir.

45
00:04:10,440 --> 00:04:19,560
yleyse burada son kullanma tarihini ayklyoruz, hesaplarmz olduu gibi tutuyoruz, aynen burada eritiimiz yerel depolama

46
00:04:19,560 --> 00:04:21,940
iin de aynsn yapyoruz,

47
00:04:23,220 --> 00:04:28,400
aynen daha nce yaptmz gibi ve yeni eylemler gnderiyoruz.

48
00:04:28,400 --> 00:04:31,890
renmi olsanz da, burada eylemleri yeniden deerlendirmiyoruz, bunun

49
00:04:32,120 --> 00:04:43,320
yerine biz buraya koyarz ve eylemlere eriiriz. authSuccess. Bunun iin endekse gitmemiz gerekiyor. js dosyas eylemler klasrnde

50
00:04:43,330 --> 00:04:51,570
yer alr ve amasSuccess ierisinden koymak istediimiz tm eylemleri da aktardmzdan emin olun,

51
00:04:51,570 --> 00:04:56,690
bylece authSuccess olur ve nihayetinde authFail'e de ihtiya

52
00:04:56,820 --> 00:05:01,070
duyarz, bu yzden buray authFail'e gnderelim.

53
00:05:01,930 --> 00:05:08,860
Bu destan ile, ben imdi burada koymak, authSuccess ve ben

54
00:05:08,860 --> 00:05:12,630
eylemler checkAuthTimeout yrtmek baka bir

55
00:05:14,330 --> 00:05:16,630
tane vereceim, imdi,

56
00:05:16,620 --> 00:05:25,090
bu burada da, bu gibi checkAuthTimeout, burada ihra etmek gereken bir ilevdir.

57
00:05:25,100 --> 00:05:28,340
Burada yrtmek istediim ey budur, artk

58
00:05:28,640 --> 00:05:34,020
yerel depolama arlarnn daha nce yaptmz gibi yerel depolama arlar

59
00:05:34,070 --> 00:05:40,160
nnde de getiri ekleyebiliriz, ancak burada duraklama gerei duymuyoruz ama biz hala

60
00:05:40,160 --> 00:05:40,610
Bunu

61
00:05:40,610 --> 00:05:48,160
yapmak iin, burada tutarl bir yaklama sahip olmak iin getiri ekleyebiliriz, ayrca yeni tarihin nnde

62
00:05:49,870 --> 00:05:56,640
bir getiri ekleyebiliriz ve imdi bununla birlikte, tm fonksiyonumuzu neredeyse bitirdik ama buradaki

63
00:05:56,850 --> 00:05:59,110
bu hata durumu nedir?

64
00:06:00,530 --> 00:06:03,540
imdi bunu ok zarif bir ekilde

65
00:06:03,950 --> 00:06:09,200
halledebiliriz, burada cevab karrz nk verimin bunu durduracan ve zme ya

66
00:06:09,200 --> 00:06:12,140
da reddetme vaadini beklediimi syledim, imdi

67
00:06:12,140 --> 00:06:18,710
hem bir baar hem de hatayla baa kmak iin varsaylan bir javascript yapsn kullanabiliriz

68
00:06:18,710 --> 00:06:21,750
durumda, bunu bir try blou ile sarabiliriz.

69
00:06:22,070 --> 00:06:25,440
Bu yzden aadaki kodu deneyelim, cevab

70
00:06:25,460 --> 00:06:29,640
bekleyelim ve daha sonra baarlarmzla bunu yapalm.

71
00:06:30,310 --> 00:06:40,200
Ancak bu baarsz olursa, aslnda hatay yakalayacaz ve daha sonra bu alternatif kodu

72
00:06:40,840 --> 00:06:45,060
yerine koyacaz ve orada gnderim eylemimi

73
00:06:45,990 --> 00:06:52,590
kapatacam ve gerekten gnderip authFail'i vermeyeceim, ve ite bu

74
00:06:52,770 --> 00:06:57,420
hatay isimlendirmeliyim. bu yzden burada ve

75
00:06:57,690 --> 00:07:01,880
eylemleri kullann. authFail.

76
00:07:02,010 --> 00:07:10,680
imdi bununla baa kma yolunu buluyoruz, verimi duraklatmak iin verim kullanmak, authStart koymak

77
00:07:10,680 --> 00:07:17,690
ve sonra bir baar yant alp authFail'i gnderirsek denemeye alyoruz.

78
00:07:18,210 --> 00:07:24,240
Tm bu eyler deitike, yapmamz gereken tek ey, authUserSaga'nn gerekten bir kullanc oluturmaya veya

79
00:07:24,240 --> 00:07:30,730
atamaya altmz zaman yrtldnden emin olmak zorunda olduumuzdan, bu yzden bizim yetkemize geri dnmemiz gerektiinden

80
00:07:30,900 --> 00:07:34,190
emin olmak zorundayz. js action

81
00:07:34,320 --> 00:07:41,420
creator dosyas ve orada, kodumuzda gnderdiimiz bu auth eylem yaratcsna sahibiz.

82
00:07:41,430 --> 00:07:49,380
imdi burada, imdi daha nce sahip olduumuz bu eski kodu artk yrtmemeliyiz, bunun yerine

83
00:07:49,380 --> 00:07:53,320
sadece bir eylemi dndrmeliyiz ve bunun iin,

84
00:07:53,760 --> 00:08:04,860
burada yeni bir eylem tr oluturacam, buraya vereceim, const authUser belki de authUser ve auth action creator dosyasnda, imdi bunu

85
00:08:05,130 --> 00:08:10,330
uygulayacam veya actionTypes trn dndreceim. authUser, bu yeni

86
00:08:10,350 --> 00:08:17,460
oluturulan eylem tr, yaknda yeni atandmz destanmz bu eylemin

87
00:08:17,480 --> 00:08:26,250
ne zaman gerekletiini ve ok nemli olduunu, authUserSaga fonksiyonumuzda veya jeneratrlerimizde

88
00:08:26,280 --> 00:08:34,260
kullanacamz, elbette e-postay, ifreyi ve tabii ki eylemden kaydolarak, bu

89
00:08:34,290 --> 00:08:35,040
bilgileri

90
00:08:35,070 --> 00:08:40,040
aktarmamz gerekiyor, eylemi oluturduumuzda bu bilgileri aktarmamz gerekiyor.

91
00:08:40,140 --> 00:08:43,400
Eylem oluturucuda argman olarak buradayz.

92
00:08:43,500 --> 00:08:51,870
Bu nedenle, bir e-posta mlkndeki e-postada, parola zelliindeki parolada ve isSignUp'da bunun

93
00:08:51,930 --> 00:08:56,060
gibi bir isSignUp uygulamasnda e-posta iletmeliyiz.

94
00:08:56,080 --> 00:08:57,030
imdi

95
00:08:57,270 --> 00:08:58,900
bu, bu

96
00:08:58,930 --> 00:09:06,270
destan yolu, eksik olan ey, yeni oluturulan authUserSaga'muzu bir izleyici ile baladmz.

97
00:09:06,490 --> 00:09:11,980
Yani endekste. sagas klasrnde js dosyas,

98
00:09:11,990 --> 00:09:14,040
baka bir getiri

99
00:09:14,050 --> 00:09:23,890
ekleyeceim, takeEvery ve orada actionTypes kullanacam. authUser ve ben her eyden nce alacam yeni eklenmi

100
00:09:23,890 --> 00:09:30,560
efsanemimi yrtmek istiyorum, ki burada sadece burada yarattmz authUserSaga, burada parantez olmadan

101
00:09:30,620 --> 00:09:32,720
her zaman olduu gibi

102
00:09:32,810 --> 00:09:38,000
burada altrmak istediim ey, sadece bir iaretiyi gstererek ilevi.

103
00:09:38,360 --> 00:09:39,420
imdi bunu kaydedelim,

104
00:09:39,650 --> 00:09:43,750
hadi burger reticimize geri dnelim ve bu sayfay tekrar ykleyelim,

105
00:09:44,150 --> 00:09:45,830
eer ie yaryorsa, deneyelim.

106
00:09:45,950 --> 00:09:51,960
Oturum amay denediim iin oturum amaya ve gnderim ilemini gerekletirmeye gei

107
00:09:51,960 --> 00:09:57,690
yapacaz. Bu, altmz gibi, authSuccess ve authCheckTimeout ilemlerini balattmz grebilirsiniz.

108
00:09:57,840 --> 00:10:04,430
Ksa bir sre sonra da k yaptm ve bu basite

109
00:10:04,440 --> 00:10:11,250
gerekleir nk bir eyleri unutmuum. zaman am sresi iin geciktirdiim sagas klasrnde js, imdi

110
00:10:11,250 --> 00:10:14,690
son kullanma sresi yanttan geri dndmz bir veri, expiresIn

111
00:10:14,910 --> 00:10:16,720
alan ve saniyeler iinde.

112
00:10:16,770 --> 00:10:19,110
Ancak gecikme milisaniye ile alr,

113
00:10:19,110 --> 00:10:23,060
bu yzden bunu 1000 ile arpmaya ihtiyacm var.

114
00:10:23,070 --> 00:10:25,570
Ancak nemli olan ey ie yarad, imdi

115
00:10:25,590 --> 00:10:28,120
bu sabit hatayla tekrar deneyelim, eer kimlik

116
00:10:28,380 --> 00:10:34,860
dorulamaya geri dnersem ve bir kez daha oturum asam, bu sefer tekrar o kadar hzl bir ekilde k

117
00:10:34,860 --> 00:10:35,450
yapmamam gerekiyor,

118
00:10:35,580 --> 00:10:36,860
o yzden gndereyim Bu,

119
00:10:36,900 --> 00:10:43,050
authSuccess' greceksiniz ve zamanlaycy kurarz, bylece her ey daha nce olduu gibi alr, ancak imdi destan kullanrz.

120
00:10:43,290 --> 00:10:49,530
zin verin ve yeni bir kullanc oluturmaya almama izin verin, bu yzden burada yeni bir e-posta adresi oluturacam

121
00:10:49,620 --> 00:10:52,680
ve gnderim ilemini gerekletireceim ve bu da ie yaryor.

122
00:10:52,830 --> 00:10:58,870
Bu yzden, daha nce olduu gibi ayn davran elde ediyoruz ama imdi bunu efsanenin iinden ynetiyoruz,

123
00:10:58,870 --> 00:11:05,180
hadi imdi anyondan bir eyler koymaya devam edelim. js dosyas eylemler klasrmzde saga dosyamza.

