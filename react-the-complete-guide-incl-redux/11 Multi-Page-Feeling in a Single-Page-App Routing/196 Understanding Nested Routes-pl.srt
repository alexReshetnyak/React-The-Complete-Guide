1
00:00:02,190 --> 00:00:09,600
Do tej pory w naszej aplikacji wczytalimy tras jednego postu jako cz naszej strony blogowej,

2
00:00:09,600 --> 00:00:15,310
wic po klikniciu postu wymienilimy stron postw dla strony z jednym postem.

3
00:00:15,330 --> 00:00:18,330
Oczywicie moemy to oczywicie zrobi, ale czasami

4
00:00:18,330 --> 00:00:25,350
masz rwnie konfiguracj, w ktrej chcesz utworzy zagniedon tras. Wic gdzie chcesz zaadowa okrelony

5
00:00:25,380 --> 00:00:33,360
komponent lub gdzie chcesz renderowa pewn zawarto wewntrz innego komponentu, ktra jest

6
00:00:33,360 --> 00:00:35,540
rwnie adowana przez routing.

7
00:00:35,790 --> 00:00:41,850
W tej chwili mamy tylko jeden poziom, na ktrym wykonujemy routing, tutaj w kontenerze blogw adujemy

8
00:00:41,850 --> 00:00:45,810
rne komponenty dla rnych tras i jest to absolutnie w porzdku.

9
00:00:45,810 --> 00:00:54,090
Teraz zamy, e chcemy zaadowa konkretnego hosta nie wewntrz komponentu bloga, ale wewntrz komponentu post tu

10
00:00:54,330 --> 00:00:56,730
pod naszymi postami tutaj.

11
00:00:57,090 --> 00:01:06,060
Wic zawin to w div i dodam tam moj tras, mj komponent trasy tam, wic

12
00:01:06,180 --> 00:01:09,390
teraz jestem w dodanym komponencie.

13
00:01:09,390 --> 00:01:16,780
Dlatego te oczywicie musz doda import na grze, gdzie importuj tras z react-router-dom, wszystko to

14
00:01:16,890 --> 00:01:25,350
w komponencie pocztowym i teraz mam oczywicie bd, poniewa cay komponent poczty, o ktrym tu mowa nie

15
00:01:25,380 --> 00:01:28,740
jest rwnie obecny w tym pliku.

16
00:01:28,770 --> 00:01:33,900
Wic musz doda do tego rwnie import. importuj FullPost z, a teraz przejdmy

17
00:01:33,900 --> 00:01:39,570
do tego penego folderu postw i zaimportuj go z penego pliku post.

18
00:01:39,570 --> 00:01:47,890
Teraz mog renderowa jeden wpis pod moj list postw, poniewa uywam trasy w innym komponencie i jest to oglnie rzecz

19
00:01:48,300 --> 00:01:51,050
biorc co, co moesz oczywicie zrobi.

20
00:01:51,120 --> 00:01:56,010
Moesz uy komponentu trasy, gdziekolwiek chcesz w swojej

21
00:01:56,250 --> 00:02:04,110
aplikacji, o ile strona, ktrej uywasz, jest zapakowana przez ten router przegldarki i

22
00:02:04,110 --> 00:02:08,670
oczywicie tak jest, poniewa owijamy komponent blogu.

23
00:02:08,760 --> 00:02:14,490
a poniewa komponent post jest tylko komponentem potomnym skadnika blogu zaadowanego

24
00:02:14,820 --> 00:02:16,680
przez tras, dziaa to.

25
00:02:16,800 --> 00:02:22,000
Teraz instrukcja switch tutaj w komponencie blogowym oczywicie jest teraz nieco zbdna,

26
00:02:22,010 --> 00:02:29,280
mam tylko jeden komponent, wic moe tam przesuj swoj zewntrzn tras, cho technicznie nie jest to wymagane,

27
00:02:29,280 --> 00:02:34,400
poniewa te dwie trasy nigdy nie bd pasowa do tej samej cieki .

28
00:02:34,470 --> 00:02:40,710
Abymy mogli usun instrukcj switcha, zostawi j tutaj po prostu jako referencj, dziki czemu nadal

29
00:02:40,710 --> 00:02:43,700
bdzie mona porwna z ni swj kod.

30
00:02:43,830 --> 00:02:49,310
Co moemy teraz zrobi w komponencie blogu, moemy teraz pozby si caego importu,

31
00:02:49,310 --> 00:02:50,790
ktrego ju nie uywamy.

32
00:02:51,110 --> 00:02:58,850
Teraz, jeli zapiszesz wszystkie pliki i przejdziesz do komponentu wiadomoci, a klikniesz na jeden

33
00:02:58,850 --> 00:03:01,290
wpis, zobaczysz aktualizacje URL,

34
00:03:01,520 --> 00:03:05,600
ale post nie zostanie wyrenderowany, a posty znikn.

35
00:03:05,630 --> 00:03:08,940
Powodem tego jest to, e teraz utworzymy

36
00:03:09,170 --> 00:03:16,940
tras zagniedon, mamy tras gwn, powiedzmy tutaj w kontenerze blogu, jest to najwyszy poziom, na ktrym

37
00:03:16,970 --> 00:03:22,790
reagujemy na zmiany trasy, a nastpnie komponent postu, ktry adujemy przez router.

38
00:03:22,790 --> 00:03:24,200
Pamitaj, e adujemy

39
00:03:24,200 --> 00:03:27,760
go, implementujemy go za porednictwem routera w tym komponencie.

40
00:03:27,980 --> 00:03:29,800
Teraz znowu uywamy trasy,

41
00:03:29,840 --> 00:03:33,290
problem dotyczy / someID, Nie osigniemy tej

42
00:03:33,470 --> 00:03:40,640
trasy, poniewa mamy dokadne dopasowanie tylko slash. Tak wic slash ID nie pasuje do

43
00:03:40,640 --> 00:03:41,870
tej trasy,

44
00:03:41,900 --> 00:03:47,810
wic komponent posta nigdy nie zostanie wyrenderowany, co jest zbyt ze,

45
00:03:47,810 --> 00:03:53,840
poniewa w tym komponencie chcemy renderowa nasz peny komponent dla danego ID.

46
00:03:53,870 --> 00:04:03,500
Teraz, aby to naprawi, moemy oczywicie usun dokadne, a nastpnie dopasuje slash i / 1, / 2 i

47
00:04:03,500 --> 00:04:04,520
tak dalej.

48
00:04:04,520 --> 00:04:11,120
Powinnimy wtedy zmieni kolejno, tak aby slash nie zajmowa najpierw nowych postw, a teraz zmiana

49
00:04:11,120 --> 00:04:17,730
rwnie ma sens, poniewa teraz ta trasa byaby rwnie renderowana dla / new-post, ale poniewa

50
00:04:18,020 --> 00:04:24,980
/ new-post znajduje si pierwszy zostanie to wyrenderowane jako pierwsze, a nastpnie router zostanie zatrzymany.

51
00:04:24,980 --> 00:04:31,290
Teraz dziki tej konfiguracji zobaczysz, e rzeczywicie moemy zaadowa pojedyncz tras pod naszymi trasami.

52
00:04:31,310 --> 00:04:38,120
Wic jeli id po prostu slash, widzimy tylko posty, ale jeli klikn na post adujemy to pod postami.

53
00:04:38,540 --> 00:04:41,420
To ju jest trasa zagniedona.

54
00:04:41,420 --> 00:04:49,290
Mamy jednak do czynienia z problemem, powiedzmy, e mamy tu / posta i nic nie przycinamy,

55
00:04:49,670 --> 00:04:57,140
i oczywicie oznacza to, e w komponencie po ktrym si poruszamy, gdybymy mieli uy linku,

56
00:04:57,140 --> 00:04:59,660
musielibymy zaktualizowa to do / posts.

57
00:04:59,810 --> 00:05:06,200
To samo dotyczy tego programowego routingu i tego, ktrego aktualnie uywamy,

58
00:05:06,350 --> 00:05:14,000
abymy teraz nawigowali do / wpisw ID. A teraz z tym na miejscu, zobaczysz i

59
00:05:14,000 --> 00:05:17,970
powinienem rwnie zaktualizowa link nawigacyjny tutaj do /

60
00:05:18,820 --> 00:05:26,020
postw, wic teraz zobaczysz, e jeli klikn tutaj posty, zaadujemy posty i mog oczywicie klikn post.

61
00:05:26,020 --> 00:05:34,930
Teraz widzisz rwnie, e to si nie powiedzie, ale otrzymujemy bd, poniewa nasza zagniedona trasa tutaj

62
00:05:34,930 --> 00:05:45,340
w komponencie pocztowym, ta trasa, parsuje / ID i nie jest doczana do cieki trasy, ktra bya odpowiedzialna za

63
00:05:45,340 --> 00:05:47,230
adowanie komponentu pocztowego.

64
00:05:47,380 --> 00:05:50,460
To nie jest automatycznie rozstrzygane

65
00:05:50,470 --> 00:05:52,030
na ID wpisw,

66
00:05:52,030 --> 00:05:54,490
to si nie dzieje.

67
00:05:54,490 --> 00:06:03,670
Zamiast tego nadal jest / route / ID. Musimy wic zaktualizowa to rwnie do / posts:

68
00:06:03,670 --> 00:06:10,100
id, aby znw dziaa routing zagniedony z nowym adresem URL, ktry

69
00:06:10,110 --> 00:06:14,780
jest / posts / id jest oczywicie bardzo uciliwy.

70
00:06:15,310 --> 00:06:19,000
Zamiast wic uywa takiego postu, lepszym sposobem

71
00:06:19,000 --> 00:06:28,990
jest dynamiczne uzyskanie aktualnej cieki, tak aby bya to dynamiczna, elastyczna cieka zagniedona, a dla tej cieki powinna

72
00:06:29,080 --> 00:06:35,760
by ustawiona na co dynamicznego, a nie na sztywno zakodowany cig.

73
00:06:36,160 --> 00:06:45,700
I tam prawdopodobnie powinnimy tego uy. rekwizyty. dopasuj ten obiekt dopasowania, a tam jest waciwo

74
00:06:45,710 --> 00:06:49,550
URL, ktra jest w zasadzie adresem URL, ktry do

75
00:06:49,570 --> 00:06:50,980
tej pory zaadowalimy.

76
00:06:51,010 --> 00:06:59,630
Tak wic URL, ktry by odpowiedzialny za adowanie tego komponentu posts i oczywicie jest to

77
00:06:59,740 --> 00:07:08,610
cieka, ktr musimy przej do naszej elastycznej cieki. Moemy teraz poczy to wewntrz nawiasw klamrowych

78
00:07:08,670 --> 00:07:11,130
z naszym identyfikatorem, wic

79
00:07:11,130 --> 00:07:18,350
przy pomocy /: id i usun ciek po nawiasach klamrowych.

80
00:07:18,350 --> 00:07:27,470
Teraz to si zgadza. posty. id i gdybymy kiedykolwiek mieli zaadowa ten komponent

81
00:07:27,530 --> 00:07:33,950
inaczej, powiedzmy na / allposts, to automatycznie by to rozwizao wszystkie posty tutaj, poniewa jest dynamiczne.

82
00:07:34,340 --> 00:07:41,410
Wic teraz z tym, jeli to uratujemy, otrzymamy takie samo zachowanie jak poprzednio, ale to dowodzi, e dziaa.

83
00:07:41,430 --> 00:07:49,760
W tym miejscu dodajemy / publikujemy dynamicznie dla naszej trasy zagniedonej. W ten sposb tworzysz trasy

84
00:07:49,760 --> 00:07:53,170
zagniedone w aplikacji reagowania z routerem reagowania.

