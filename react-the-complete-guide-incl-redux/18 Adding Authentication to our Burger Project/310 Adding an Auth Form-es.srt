1
00:00:02,240 --> 00:00:09,830
Entonces, de vuelta en nuestra aplicacin, aqu es donde la dejamos por ltima vez, agregar un nuevo contenedor. Agregar en la carpeta contenedores y lo nombrar

2
00:00:09,830 --> 00:00:11,520
auth, por supuesto

3
00:00:11,570 --> 00:00:13,570
puedes nombrar esto como

4
00:00:13,760 --> 00:00:19,450
quieras y all, crear la autenticacin. js y esta ser la pgina que quiero cargar con

5
00:00:19,550 --> 00:00:24,280
el formulario de registro o inicio de sesin. Ahora aqu, crear un componente basado en

6
00:00:24,530 --> 00:00:31,110
clases, as que importar la reaccin y el componente de la reaccin, ha pasado un tiempo desde que

7
00:00:31,110 --> 00:00:35,360
creamos dicho componente, pero estoy seguro de que todava sabes cmo funciona.

8
00:00:35,380 --> 00:00:37,480
Lo creamos con la palabra clave

9
00:00:37,540 --> 00:00:43,280
class, luego el nombre del componente como auth y ampliamos este componente que estamos importando.

10
00:00:43,310 --> 00:00:49,980
All necesitamos un mtodo de renderizado donde devolvemos algunos jsx y, al final, exportaremos esta clase

11
00:00:49,980 --> 00:00:51,910
como el archivo predeterminado.

12
00:00:51,940 --> 00:00:59,650
Ahora el jsx aqu estar muy cerca de nuestro formulario de datos de contacto, tendr un div de ajuste y

13
00:00:59,650 --> 00:01:04,020
all, agregar un elemento de formulario y en este elemento de formulario

14
00:01:04,030 --> 00:01:11,110
quiero usar mis componentes de entrada y botn personalizados, al igual que Los uso en el componente o contenedor

15
00:01:11,170 --> 00:01:12,770
de datos de contacto.

16
00:01:12,910 --> 00:01:20,120
Tambin administrar mi formulario a travs del estado de este contenedor de autenticacin, no a travs de redux porque solo estoy hablando

17
00:01:20,120 --> 00:01:24,600
del estado local, los valores que el usuario ingres en sus entradas de formularios,

18
00:01:24,670 --> 00:01:30,760
etc., y tiene ms sentido para m usarlos ellos y para administrarlos dentro del contenedor con la propiedad

19
00:01:30,760 --> 00:01:31,860
estatal de reaccionar.

20
00:01:31,930 --> 00:01:38,890
As que agregar el estado aqu y agregar una propiedad de controles y la configurar igualmente para los

21
00:01:38,890 --> 00:01:42,270
datos de contacto para poder reutilizar la lgica desde

22
00:01:42,280 --> 00:01:49,090
all, all tenamos una propiedad orderForm y luego tenamos el varios controles y todos tenan algo as

23
00:01:49,090 --> 00:01:51,710
como el elemento, tipo, configuracin, etc.

24
00:01:51,760 --> 00:01:59,560
Voy a copiar el control de nombre desde all y ponerlo en mi objeto de controles auth y cambiarle el nombre de

25
00:01:59,560 --> 00:02:01,390
nombre a correo electrnico, ahora

26
00:02:01,390 --> 00:02:04,150
el tipo de elemento seguir siendo un elemento

27
00:02:04,420 --> 00:02:12,220
de entrada, la configuracin aqu crear un elemento de entrada de tipo de correo electrnico y marcador de posicin debe ser solo

28
00:02:12,790 --> 00:02:14,510
la direccin de correo, por ejemplo.

29
00:02:14,830 --> 00:02:16,810
Ahora el valor inicialmente est

30
00:02:16,870 --> 00:02:24,670
vaco, con respecto a las reglas, quiero reutilizar el mtodo checkValidity de los datos de contacto y all, apoyo

31
00:02:24,670 --> 00:02:27,890
cosas como minLength, maxLength, isEmail, isNumeric requeridos y

32
00:02:27,970 --> 00:02:34,190
eso es bsicamente lo que quiero introducir tambin en el contenedor de autenticacin. .

33
00:02:34,560 --> 00:02:43,150
As que lo he requerido y ahora tambin quiero configurar isEmail para true para este control de correo electrnico que estoy creando aqu,

34
00:02:43,840 --> 00:02:47,570
vlido inicialmente debe ser falso y tocado tambin es falso.

35
00:02:47,800 --> 00:02:52,550
Y ahora, voy a duplicar esto una vez para tener tambin un campo de

36
00:02:52,720 --> 00:02:58,250
contrasea as que aqu voy a agregar una contrasea como esta, tambin ser de tipo de

37
00:02:58,480 --> 00:03:05,710
entrada, pero luego, el tipo de elemento ser de eso, el tipo de la entrada en s ser una contrasea y

38
00:03:05,860 --> 00:03:08,210
el marcador de posicin ser contrasea.

39
00:03:08,380 --> 00:03:09,690
Debera ser necesario y

40
00:03:09,700 --> 00:03:15,420
digamos que queremos tener un minLength de siete caracteres o seis caracteres tal vez, que en

41
00:03:15,430 --> 00:03:20,710
realidad es el minLength requerido por firebase, por supuesto ajustar esto a su back-end.

42
00:03:20,710 --> 00:03:27,550
Con eso conseguimos esta configuracin, ahora podemos crear dinmicamente esa forma y para eso, primero necesito

43
00:03:27,550 --> 00:03:30,360
importar los componentes de entrada y

44
00:03:30,370 --> 00:03:37,540
botn para que mis propios componentes estn all. De entrada, ahora tengo que pasar a la carpeta de componentes, a

45
00:03:37,630 --> 00:03:45,560
la carpeta de UI, luego a la carpeta de entrada con el archivo de entrada y la misma para el componente de botn, como esta.

46
00:03:45,580 --> 00:03:48,940
Ahora la lgica es la misma que en el componente de datos

47
00:03:48,970 --> 00:03:55,900
de contacto, all tambin hicimos un bucle en todos nuestros controles y, por lo tanto, puedo copiar el cdigo desde donde convert mi objeto de estado

48
00:03:55,900 --> 00:04:02,860
a una matriz en la que puedo realizar un bucle, copiar ese . Luego pasar al contenedor de autenticacin y lo

49
00:04:02,860 --> 00:04:07,530
agregar en el mtodo de renderizado antes de devolver algo, y

50
00:04:07,870 --> 00:04:13,690
ahora quiero recorrerlo y crear mi formulario. As que crear una nueva constante que

51
00:04:13,690 --> 00:04:21,980
nombrar forma y all, quiero tomar mi matriz de elementos de formulario llamada map para mapearla en una matriz de elementos

52
00:04:22,060 --> 00:04:29,180
jsx, obtengo cada elemento de formulario aqu y devolver jsx, I quiero devolver mi entrada, es un elemento

53
00:04:29,320 --> 00:04:33,080
de cierre automtico y requiere muchas claves y propiedades.

54
00:04:33,100 --> 00:04:35,130
El primero es la propiedad

55
00:04:35,530 --> 00:04:44,190
clave, all realmente solo quiero usar el ID del elemento de formulario que est disponible porque lo agregu aqu.

56
00:04:44,200 --> 00:04:50,220
Si recuerda el mdulo del formulario, lo agregamos aqu, es el nombre del elemento para ser preciso y

57
00:04:50,590 --> 00:04:56,200
luego, todas las otras claves que se esperan. Podemos echar un vistazo a los datos de contacto

58
00:04:56,200 --> 00:04:59,780
y podemos copiar toda la configuracin desde all, para todos los

59
00:04:59,780 --> 00:05:05,050
dems accesorios que configuramos en el elemento de entrada y agregarlo aqu en el contenedor de autenticacin.

60
00:05:05,050 --> 00:05:08,180
Entonces, tambin podemos dejar el cdigo tal como est porque

61
00:05:08,200 --> 00:05:13,560
conserv el nombre, estoy hablando de un elemento de formulario en mi ciclo y lo uso aqu tambin.

62
00:05:13,810 --> 00:05:19,060
Tengo una clave de configuracin y una clave de valor y todas estas claves porque

63
00:05:19,060 --> 00:05:21,480
utilizo la misma configuracin en la propiedad

64
00:05:21,820 --> 00:05:28,090
de mi estado para que sea realmente reutilizable y con eso, ahora tenemos un conjunto de entradas generado dinmicamente.

65
00:05:28,510 --> 00:05:31,320
Ahora, lo siguiente es, por supuesto, que tambin

66
00:05:31,390 --> 00:05:41,050
necesito un botn, as que debajo de todas estas entradas, agregar un botn. Ese botn requiere un botn tipo prop que establecer para el xito,

67
00:05:41,050 --> 00:05:48,160
el peligro sera la otra opcin que tenemos en nuestra aplicacin y que no debera ser parte de

68
00:05:48,160 --> 00:05:54,340
mi formulario aqu, eso debera ser parte de mi elemento de formulario all donde yo devuelvo

69
00:05:54,340 --> 00:05:59,970
algo y encima del botn, renderizar el contenido del formulario que contiene mis entradas.

70
00:06:00,820 --> 00:06:07,000
Con eso, el botn no debe ser un elemento de cierre automtico, pero el botn debera permitirme agregar algn

71
00:06:07,450 --> 00:06:09,960
ttulo entre las etiquetas, as que aqu simplemente

72
00:06:10,120 --> 00:06:18,310
dir enviar y ahora tenemos un formulario con entradas y un botn. Para verlo, tenemos que cargarlo a travs del enrutamiento, tenemos el contenedor de

73
00:06:18,410 --> 00:06:24,520
autenticacin y configuramos todas nuestras rutas en la aplicacin. js archivo.

74
00:06:24,770 --> 00:06:25,610
&nbsp;

75
00:06:25,940 --> 00:06:34,990
As que all quiero importar mi contenedor de autenticacin, importar autenticacin de. / containers auth y auth nuevamente y ahora

76
00:06:35,180 --> 00:06:43,220
aqu, simplemente replicar una de las rutas y digamos para / auth, quiero cargar

77
00:06:43,280 --> 00:06:46,100
este componente de autenticacin, as.

78
00:06:46,100 --> 00:06:49,030
Probemos esto y para poder llegar a eso,

79
00:06:49,130 --> 00:06:57,710
tambin ir a mi carpeta de componentes y all a navegacin, elementos de navegacin en el componente de elementos de navegacin, aqu

80
00:06:57,770 --> 00:06:59,290
tenemos nuestros enlaces y

81
00:06:59,540 --> 00:07:02,530
agregar uno nuevo, aadir un enlace a /

82
00:07:02,720 --> 00:07:10,960
auth y le dar una leyenda de autenticacin, algo as. Con esa configuracin, volvamos a la

83
00:07:10,960 --> 00:07:14,890
aplicacin, estamos autenticando, el estilo est

84
00:07:14,890 --> 00:07:18,650
un poco apagado y si lo

85
00:07:18,790 --> 00:07:22,490
inspeccionamos, no puedo ver mis entradas.

86
00:07:22,870 --> 00:07:28,890
As que regresemos al contenedor de autenticacin y veamos dnde estn las entradas, tenemos

87
00:07:28,930 --> 00:07:32,840
un formulario, que debe ser constante pero, de alguna

88
00:07:33,030 --> 00:07:35,240
manera, al recorrer el conjunto

89
00:07:35,250 --> 00:07:38,560
aqu, parece que realmente no creamos entradas.

90
00:07:38,560 --> 00:07:41,940
La razn es porque copi el cdigo de los datos

91
00:07:41,980 --> 00:07:49,340
de contacto, me refiero a una propiedad orderForm en mi estado, pero aqu, en el contenedor de autenticacin, cambi el nombre a

92
00:07:49,630 --> 00:07:51,570
controles, as que cambiar el nombre

93
00:07:51,790 --> 00:07:55,090
aqu y ahora si volvemos atrs , vemos los controles.

94
00:07:55,160 --> 00:08:01,960
Ahora, para darle un poco de estilo, agregar una auth. archivo css y copiar el estilo del archivo css de

95
00:08:01,960 --> 00:08:07,340
datos de contacto all, reemplace la clase de datos de contacto aqu con la clase de

96
00:08:07,360 --> 00:08:13,900
autenticacin y deje todo el estilo y en la autenticacin. js file, luego importar

97
00:08:14,170 --> 00:08:23,800
mis clases desde. / auth. archivo css y luego lo asignar al div de envoltura, de

98
00:08:23,800 --> 00:08:32,180
modo que el div de envoltura aqu reciba el nombre de clase que son clases. Auth, esta clase CSS recin agregada.

99
00:08:32,180 --> 00:08:34,160
Si ahora guardamos todos estos

100
00:08:34,160 --> 00:08:38,740
archivos, creo que se ve bastante bien en todos los tamaos de dispositivos.

101
00:08:38,840 --> 00:08:45,520
As que este es mi formulario de suscripcin, el siguiente paso es configurar tambin este formulario para que tenga

102
00:08:45,530 --> 00:08:47,370
validacin, as que hagmoslo en

103
00:08:47,450 --> 00:08:50,920
el prximo paso, tambin copiar el cdigo para esto de

104
00:08:51,020 --> 00:08:57,560
los datos de contacto y, por cierto, con todos estos cdigos de copiado , dira correctamente que no podemos

105
00:08:57,560 --> 00:09:00,240
externalizar parte de este cdigo en un archivo

106
00:09:00,260 --> 00:09:05,970
centralizado y s podemos, lo haremos en el siguiente mdulo donde aplicaremos algunas optimizaciones para este proyecto.

107
00:09:05,990 --> 00:09:09,680
Por ahora, simplemente envolvera CheckValidity, este mtodo, lo copiara

108
00:09:09,830 --> 00:09:18,620
y lo agregara a mi contenedor de autenticacin tambin, por lo que antes del procesamiento, agregar checkValidity que admite varias reglas,

109
00:09:18,620 --> 00:09:19,220
en

110
00:09:19,250 --> 00:09:26,600
realidad todas las reglas que uso aqu y ahora necesito un inputChangedHandler y tambin obtendr esto de

111
00:09:26,600 --> 00:09:28,040
los datos de contacto.

112
00:09:28,370 --> 00:09:37,290
Para verificar la validez, agregar un nuevo mtodo a mi contenedor de autenticacin, lo nombrar inputChangedHandler y all, espero

113
00:09:38,000 --> 00:09:44,500
obtener el evento y el nombre de control que s cambiaron y all, ahora

114
00:09:45,450 --> 00:09:51,560
puedo usar mucho de la lgica pero no todos de los datos de contacto.

115
00:09:51,900 --> 00:09:59,640
Quiero crear un formulario actualizado, no llamado orderForm, aunque actualizo mis elementos, pero lo

116
00:09:59,640 --> 00:10:08,850
har manualmente aqu en el contenedor de autenticacin. As que crear mi constante de Controles actualizada donde crear

117
00:10:08,850 --> 00:10:16,680
un nuevo objeto donde copiar esto. estado. controla primero y luego solo quiero actualizar

118
00:10:16,680 --> 00:10:22,040
uno de los controles, el control con el nombre de control que tenemos aqu.

119
00:10:22,440 --> 00:10:28,170
As que los controles de estado simplemente copian todos los elementos dentro de este objeto de control y

120
00:10:28,320 --> 00:10:33,300
uno de ellos ser sobreescrito por m y ese es el que tengo el nombre que

121
00:10:33,300 --> 00:10:37,730
recibo como argumento aqu y que a su vez debera recibir un nuevo objeto.

122
00:10:37,980 --> 00:10:46,740
Entonces aqu, yo tambin llamar esto. estado. controles para ese nombre de control dado y

123
00:10:46,740 --> 00:10:51,120
distribuir todas estas propiedades para que pueda sobrescribir algunas de las

124
00:10:51,120 --> 00:10:59,530
propiedades, por ejemplo el valor, ahora el valor de este control y bsicamente ahora puedo sobrescribir todas las propiedades que tenemos aqu

125
00:10:59,530 --> 00:11:03,240
en el control, como valor y vlido y tocado.

126
00:11:03,730 --> 00:11:14,510
Entonces el valor ahora ser evento. objetivo. value, valid usar este mtodo checkValidity y all pasar

127
00:11:14,560 --> 00:11:16,580
el evento. objetivo. valor y

128
00:11:16,630 --> 00:11:19,080
las reglas de este control dado,

129
00:11:19,090 --> 00:11:25,810
entonces las reglas son esto. estado. controles para este nombre de control,

130
00:11:25,870 --> 00:11:29,820
all tenemos esta propiedad de validacin que voy a aprobar, por

131
00:11:29,830 --> 00:11:35,740
lo que se refiere a la propiedad de validacin que tiene cada control donde configur las reglas.

132
00:11:35,890 --> 00:11:39,640
As que eso es lo que paso como un segundo argumento

133
00:11:40,410 --> 00:11:47,580
para verificar la validez, adems, agregar otra propiedad, tocada, se establecer en verdadero aqu cada vez que se active este comando

134
00:11:47,580 --> 00:11:51,490
inputChangedHandler, el usuario escribi algo por lo que definitivamente se toc.

135
00:11:51,750 --> 00:11:57,840
Entonces, con eso, actualizo mi control individual que fue cambiado, actualizo todos

136
00:11:57,870 --> 00:12:01,190
los campos relevantes que deseo cambiar.

137
00:12:01,500 --> 00:12:06,510
Ahora deliberadamente no manejar la validez general del formulario aqu, no verificar esto,

138
00:12:06,510 --> 00:12:07,740
no deshabilitar el

139
00:12:07,740 --> 00:12:14,070
botn de enviar para formularios no vlidos porque tambin quiero mostrar lo que sucede si enviamos formularios

140
00:12:14,100 --> 00:12:15,490
no vlidos, por supuesto

141
00:12:15,540 --> 00:12:18,400
puede implementar esto tambin, pero no lo har.

142
00:12:18,810 --> 00:12:25,320
As que ya he terminado, lo que tendr que hacer es llamar al estado

143
00:12:25,800 --> 00:12:29,880
de configuracin en inputChangedHandler y establecer la propiedad de

144
00:12:29,880 --> 00:12:35,900
controles igual a mis Controles actualizados ahora. Con eso, obtuve esto funcionando, ahora necesito conectarlo, ya

145
00:12:35,970 --> 00:12:39,950
lo hice porque utilic el mismo nombre que en los datos de

146
00:12:40,080 --> 00:12:41,910
contacto, as que esto debera funcionar.

147
00:12:42,240 --> 00:12:48,450
Ahora guardemos esto y veamos si la validacin est funcionando. De nuevo en el proyecto, si empiezo a escribir aqu,

148
00:12:48,450 --> 00:12:54,540
no ser vlido hasta que sea una direccin de correo electrnico vlida y la contrasea tenga al menos 6

149
00:12:54,540 --> 00:12:56,570
caracteres para ser tratada como vlida.

150
00:12:56,610 --> 00:12:57,440
As que eso

151
00:12:57,450 --> 00:13:00,900
est funcionando y, como dije, el botn nunca se cambia deliberadamente.

152
00:13:00,900 --> 00:13:02,550
As que mi formulario est

153
00:13:02,640 --> 00:13:08,460
terminado, mi prximo paso ahora es manejar la presentacin y, por supuesto, quiero hacer esto usando reductores y creadores

154
00:13:08,730 --> 00:13:09,150
de accin.

