1
00:00:02,170 --> 00:00:09,790
Bu nedenle, belirtecimizin sresi dolduunda ve endie duyulmadnda otomatik oturum kapatma ilemini uyguladk, daha sonra

2
00:00:09,820 --> 00:00:13,900
kimlik dorulama durumuna bal olarak dzeni ayarlamak iin

3
00:00:14,040 --> 00:00:16,190
kafalarmz dndreceiz. Artk, otomatik

4
00:00:16,200 --> 00:00:22,690
oturum kapatma ilemini gerekletirdik, bamz bu jetonu kullanmaya ynlendirelim Korunan kaynaklara talepte bulunmak.

5
00:00:22,690 --> 00:00:28,810
Tabii ki bu tipik bir kullanm durumunda, yalnzca API tarafndan onaylanm kullanclar tarafndan kullanlabilecek belirli API

6
00:00:28,810 --> 00:00:31,020
u noktalarna sahip bir arka ucunuz

7
00:00:31,150 --> 00:00:35,520
var, u anda firebase ile demo arka ucumuzda, bu durum byle deil.

8
00:00:35,750 --> 00:00:42,820
Son noktalarmz bize veren veri tabanna bakacak olursak, tm u noktalar bu yzden tm istekleri o URL'ye

9
00:00:42,820 --> 00:00:48,940
gnderilir ve daha sonra i ie gemi tm dmler temel olarak herkes tarafndan kullanlabilir.

10
00:00:49,120 --> 00:00:56,710
Bu durumda, daha nce kursta, kurallarmz burada herkese okuma ve yazma eriimi vermek iin

11
00:00:56,710 --> 00:00:59,500
burada deitirdik, bunu doru olarak

12
00:00:59,890 --> 00:01:04,890
ayarladk, bu veritabann kimlik dorulamas yapmadan kullanabilmemiz iin yaptk,

13
00:01:04,960 --> 00:01:08,160
imdi kimlik dorulamas var. Sonunda bunu deitirebiliriz.

14
00:01:08,170 --> 00:01:13,670
Tabii ki, bu, kendi API kodunuzu yazdnz kendi arka ucunuz iin

15
00:01:13,670 --> 00:01:15,940
ayarlanm olan kurallara gre yapabildiiniz

16
00:01:15,970 --> 00:01:21,700
belirli bir firebase'tir. Muhtemelen, baz geerli belirtecin istee bal olup olmadn kontrol

17
00:01:21,700 --> 00:01:23,920
edip etmediinizi kontrol etmeniz gerekir.

18
00:01:23,950 --> 00:01:29,980
Durum byle deilse 403 cevab verin. Ancak burada bu kurallara sahibiz ve en basit

19
00:01:29,980 --> 00:01:37,120
durumda, bunu haksz null olarak ayarlayabiliriz, ki bu sadece auth null'a eit deilse, daha sonra okuma eriimi verilirse anlamna gelir.

20
00:01:37,470 --> 00:01:41,860
Fakat baka bir deyile, eer kimlik dorulamas yaplmazsa, o zaman auth botur,

21
00:01:41,920 --> 00:01:43,560
bu nedenle bu false deerini

22
00:01:43,660 --> 00:01:45,350
dndrr ve okuma eriimi elde

23
00:01:45,370 --> 00:01:47,910
edemezsiniz, ayn yazma eriimi iin de yaplabilir.

24
00:01:48,280 --> 00:01:54,290
Bunu byle ayarlarsak, bu tm veritabanna, oradaki tm verilere uygulanr, imdi

25
00:01:54,460 --> 00:02:01,870
aslnda herkes iin ieriklere eriim vermek istiyorum ve sadece kimlii dorulanm kullanclara sunulan

26
00:02:02,080 --> 00:02:04,150
siparilere eriim salamak istiyorum.

27
00:02:04,180 --> 00:02:10,510
Firebase iin yapabileceimiz ey, kurallarmz iyi bir ekilde ayarlayabiliriz ve evet diyebiliriz,

28
00:02:10,600 --> 00:02:16,250
genel olarak okuma ve yazma eriimi elde ettiniz, ancak sonra

29
00:02:16,270 --> 00:02:23,380
buraya bir kural ekleyebiliriz, bunu yerletirebilir ve sipariler dm iin syleyip adnz yazmalsnz.

30
00:02:23,430 --> 00:02:26,690
tam olarak dmn isimlendirildii gibi, belirli

31
00:02:26,770 --> 00:02:31,650
bir kurallar kmesine sahibim, okuma yetkisi yalnzca kimlik dorulamas

32
00:02:31,650 --> 00:02:38,980
iin eit deilse ve bu nedenle yazma eriimi iin aynysa ve yalnzca eriim

33
00:02:39,060 --> 00:02:48,310
eitse, bu yalnzca eriimin eit olmamas durumunda verilmelidir null'a. Bu nedenle, bu kurallar yaynlayabiliriz ve bu, artk sadece yazl olarak

34
00:02:48,400 --> 00:02:53,170
sadece materyalleri herkesin kullanmna yazmay ve okumay deil, emirleri okumamz salyor.

35
00:02:53,170 --> 00:02:58,880
Ancak bunu byle yaparsak, en st dzey okuma ve yazma kurallarmz bunun yerine yuvalanm

36
00:02:58,900 --> 00:03:06,400
dmler iin bunun zerine yazacaktr, bu yzden bundan kurtulmak zorundaym ve bunun yerine malzemelerim iin ayr bir kural ekleyeceim.

37
00:03:06,910 --> 00:03:09,830
hala okumaya ve yazmaya devam etmeyi ayarlyor,

38
00:03:10,000 --> 00:03:16,270
ancak bu sadece yazlanlarn okuma ve yazma eriimine sahip olduunu veya herkese ak olduunu sylediim anlamna

39
00:03:16,270 --> 00:03:21,100
geliyor, sipariler yalnzca kimlii dorulanm kullanclar tarafndan kullanlabilir ve kvaml kal malzemelerden

40
00:03:21,580 --> 00:03:26,670
sonra buraya bir virgl eklemeliyim . Bununla test edebiliriz, eer bavuruma

41
00:03:26,670 --> 00:03:31,500
geri dnersem, yeniden ykle ve siparilere gidersem, yine de bir

42
00:03:31,660 --> 00:03:34,600
burger reticisine gidersem hata yaparz, hala alr.

43
00:03:34,610 --> 00:03:36,370
Malzemeler hala yklydi,

44
00:03:36,460 --> 00:03:40,690
siparileri ziyaret edersem izinsiz bir hata alrm.

45
00:03:41,080 --> 00:03:42,820
imdi bu iyi, tam da

46
00:03:42,820 --> 00:03:44,440
istediim ey ve bununla birlikte,

47
00:03:44,550 --> 00:03:52,460
eer biz kimlik dorulamas yaplrsa ve bir jetonumuz varsa, emirlere ulaabileceimizden emin olabiliriz. Bunu yapmak iin, bu siparileri

48
00:03:52,480 --> 00:03:59,170
gerekten gnderdiimiz yere gitmem gerekiyor ve tabii ki eylemler

49
00:03:59,460 --> 00:04:02,780
klasrndeki eylemler dosyasndaki eylem yaratclar.

50
00:04:02,920 --> 00:04:09,790
OradaBurger eylemi satn almak zorundayz ve biz de fetchOrders eylemine sahibiz, ilk nce bu

51
00:04:09,790 --> 00:04:10,600
konuda alalm.

52
00:04:10,900 --> 00:04:18,850
Burada, bizim belirteimizi eklememiz gerekiyor, kimlik belirleme srasnda firebase'den geri aldmz simge

53
00:04:19,360 --> 00:04:22,920
ve bu belirteci bu belirtiye ekleyebiliriz.

54
00:04:23,050 --> 00:04:30,730
Kimlik dorulamas ok basittir, biz sadece bir sorgu param soru iareti auth eittir eklemek iin bir belirte gerektiren ve

55
00:04:30,790 --> 00:04:37,720
daha sonra belirteci gemek zorunda olduumuz URL yapmaktr. Tabii ki burada elbette

56
00:04:37,720 --> 00:04:42,540
ki zel bir ey var, jeton

57
00:04:42,670 --> 00:04:44,130
bizim redux

58
00:04:44,200 --> 00:04:47,700
maazamzda saklanyor, onu buraya getirelim.

59
00:04:47,710 --> 00:04:51,890
Elbette getState'i alabildik, bunu rendiniz, sadece

60
00:04:51,940 --> 00:04:58,210
gnderim ileminizi gerekletiremezsiniz, ayrca devlete erimek iin yrtebileceiniz getState

61
00:04:58,210 --> 00:05:00,730
ilevini de alabilirsiniz.

62
00:05:00,730 --> 00:05:06,360
Ayrca bunu kullanmay ok tavsiye etmediimi ve burada kullanmak istemediimi de rettim,

63
00:05:06,400 --> 00:05:11,350
ancak bunun sizin iin gerekten nemli olmayan bu bilgiyi elde etmenin

64
00:05:11,350 --> 00:05:12,390
mantkl olabilecei

65
00:05:12,400 --> 00:05:12,720
bir

66
00:05:12,730 --> 00:05:17,980
durum olabilir. Eylem oluturucuda saa bakn. Yine de, onu getirme ileminin gnderildii yerde

67
00:05:17,980 --> 00:05:22,110
almak istiyorum ve daha sonra bu eylem yaratcsna bir argman olarak aktaryorum.

68
00:05:22,120 --> 00:05:27,990
Bu nedenle, bu fonksiyonda bir belirte argman almay bekliyorum ve sonra belirteimi

69
00:05:28,090 --> 00:05:33,850
isteime ekledim, bu yzden eksik para, fetchOrders' gnderirken jetonu aldmzdan emin

70
00:05:33,880 --> 00:05:37,720
olmak iin, siparilerim kapsaycsnda elbette siparileri gnderir orada,

71
00:05:37,850 --> 00:05:43,750
altta, onFetchOrders var ve burada tekrar, imdi baz belirteci gemek gerekiyor.

72
00:05:43,900 --> 00:05:49,960
yleyse, bu jetonun burada yrttmz bu anonim fonksiyona aktarlmas ve daha

73
00:05:49,960 --> 00:05:51,260
sonra eylem

74
00:05:51,490 --> 00:05:58,410
yaratcsna aktarlmas gerekecek, bu yzden nihayet, onFetchOrders olarak adlandrdmz yerde belirteci almamz gerekiyor,

75
00:05:58,420 --> 00:06:04,870
onFetchOrders burada componentDidMount ynteminde arld ve imdi biz Bunu sylediimizde belirte olduundan

76
00:06:04,930 --> 00:06:07,060
emin olmalyz. imdi,

77
00:06:07,060 --> 00:06:15,390
bizim redux maazamzda sakland gibi sylenen belirteci, auth state diliminde burada saklyoruz.

78
00:06:15,430 --> 00:06:22,550
Bu yzden tek yapmamz gereken, u anda mapStateToProps'a sahip olduumuz sipariler konteynerinde olduum iin imdi

79
00:06:22,600 --> 00:06:25,180
de eyaletimden bir token almam gerekiyor.

80
00:06:25,390 --> 00:06:33,190
Bu yzden prop semboln isimlendireceim ve devlete erimek istiyorum ve imdi deil. Sipariim, dizime bir baktmz

81
00:06:33,190 --> 00:06:36,390
zaman, durumumun ilgili

82
00:06:36,400 --> 00:06:42,970
dilim dilimiyle ilgilenmiyorum. js dosyas, indirgeyicileri birletirdiimiz auth indirgeyiciyi, belirte

83
00:06:42,970 --> 00:06:48,070
iin durumu ayarlar, auth indirgeyici bir auth zellii zerinde bulunabilir, bu yzden

84
00:06:48,070 --> 00:06:49,870
erimemiz gereken ey budur.

85
00:06:50,110 --> 00:06:55,330
Yani emirlerde, devlete erimeliyim. auth. Bu ekilde belirtin.

86
00:06:55,330 --> 00:07:01,450
Ve imdi bununla birlikte, jetonu token pervanesinde mevcut hale getiriyoruz, imdi bunu

87
00:07:01,450 --> 00:07:06,150
bununla buradan geebilirim. sahne. belirteci ve bunun

88
00:07:06,160 --> 00:07:12,550
bunu yapmann sadece bir yolu olduunu, alternatifin sipari eylemi yaratcsnda getState kullanacan vurgulayacaktr.

89
00:07:12,550 --> 00:07:16,210
Bununla beraber belirtiyi almal ve buradan gemeliyiz.

90
00:07:16,540 --> 00:07:22,930
Yani imdi tm kodumuzu kaydedip geri dnersek, yine de burada baarsz oldu, nk uygulama tekrar

91
00:07:22,960 --> 00:07:24,700
yklendiinde, tm belirteler kaybolur.

92
00:07:24,700 --> 00:07:31,400
imdi oturum amaya geelim ve bir sre nce yeniden oluturulmu kullancyla hzl bir ekilde

93
00:07:31,420 --> 00:07:37,660
oturum aalm, imdi gnder'e tklayn, baarl bir kimlik dorulamaya sahip olduumuzu dorulayabileceimizi dorulayabilelim

94
00:07:37,660 --> 00:07:38,600
ve bu

95
00:07:38,920 --> 00:07:40,810
durumda, bizde bir belirti

96
00:07:40,990 --> 00:07:45,900
var, imdi bir sipari verelim. Grebildiiniz gibi imdi bir hata

97
00:07:46,090 --> 00:07:51,160
olmadan buradaki siparileri tekrar baarl bir ekilde yklyoruz. Sadaki bu hata,

98
00:07:51,160 --> 00:07:52,320
buradaki bir hatadr.

99
00:07:52,600 --> 00:07:58,510
A tarayc sekmelerinde a sekmesini aarsanz, bunu grebiliyorsunuz. Burada tekrar siparilere

100
00:07:58,960 --> 00:08:05,650
geri dnersek, belirte eklendiinde gnderilen istein ok uzun URL olduunu grebiliyorsunuz. simge, URL'nin

101
00:08:05,650 --> 00:08:08,710
bir parasdr. Kimlik dorulamamzn nasl yaplaca

102
00:08:08,830 --> 00:08:12,900
ve simgemizi arka plana nasl gnderebileceimiz budur.

103
00:08:12,900 --> 00:08:19,120
yleyse bu, korumal kaynaklara erimek iin jetonu nasl kullanabileceimiz, elbette, burada bir sipari

104
00:08:19,300 --> 00:08:24,530
verdiimiz zaman, satn aldmzda, ayn zamanda satn almamzla alakal, ayn zamanda

105
00:08:24,710 --> 00:08:29,670
eylemi oluturucuda bir argman olarak bu belirteci almamz ve sonra

106
00:08:29,780 --> 00:08:34,040
da isteinizi gnderdiimiz URL'ye bir sorgu parametresi, yani auth

107
00:08:34,180 --> 00:08:41,080
da burada belirteci kullanmal veya auth sorgusu param burada aldmz belirte argman olmal ve

108
00:08:41,080 --> 00:08:41,620
bunun

109
00:08:41,740 --> 00:08:46,190
iin elbette ki burada da bir jeton var.

110
00:08:46,480 --> 00:08:52,420
Bu yzden satn alma ilemini yaptmz yere gitmeliyiz.Burger ve tabi

111
00:08:52,510 --> 00:08:53,320
ki

112
00:08:53,620 --> 00:09:01,890
iletiim verilerinde var, orada bir sipari yapmak iin yntemimiz var, sipariteHerhangi bir sipari yarattmz

113
00:09:01,890 --> 00:09:08,130
orderHandler, sonunda bu eylem yaratcsn gnderiyor, yani satn alyorBurger gnderilir.

114
00:09:08,130 --> 00:09:11,540
imdi burada bu belirteci

115
00:09:11,550 --> 00:09:17,760
gemeliyiz, nk bu yntemde argman listemizde yer almalyz.

116
00:09:17,760 --> 00:09:21,650
Bu metot, paftada eletirdiimiz yntemdir.

117
00:09:21,900 --> 00:09:28,290
Yani sipariler kapsaycsnda olduu gibi, bir belirteci zelliini devletle eletireceim. auth. Simge ve imdi biz

118
00:09:28,560 --> 00:09:34,020
bunu gnderdiimiz yere gidebiliriz, burada, OrderBurger'daki eylemi gnderen prop'u

119
00:09:34,320 --> 00:09:39,200
ararz ve ayrca buradaki jetonlar da burada geiririz.

120
00:09:39,360 --> 00:09:44,430
Ve bununla birlikte, biz bir jetonumuzun olduundan ve gnderdiimizden emin oluyoruz, imdi burada

121
00:09:44,430 --> 00:09:48,590
bir hatayla karlatk nk uygulama yeniden yklendi, dolaysyla jeton kayboldu.

122
00:09:48,630 --> 00:09:55,570
Ama yine de giri yaparsam ve bu otomasyona dikkat edersek hemen burada oluruz, tekrar giri yaparsam

123
00:09:55,770 --> 00:09:58,310
burger reticisine giderim, eer imdi burger

124
00:09:58,470 --> 00:10:01,250
kurarsam imdi sipari ver, devam et,

125
00:10:01,290 --> 00:10:02,240
izin ver

126
00:10:02,430 --> 00:10:04,500
A sekmesini temizleyin, burada da

127
00:10:04,530 --> 00:10:05,350
devam edin

128
00:10:05,350 --> 00:10:09,460
ve imdi bunun gibi baz verileri hzl bir ekilde girelim.

129
00:10:09,710 --> 00:10:14,880
Siparii imdi tklarsa, sipariin gnderildii istei gnderdii ve burada gnderilen iki istekle kartrlmad

130
00:10:14,970 --> 00:10:17,250
iin bunun baarl olduunu grrsnz. lki,

131
00:10:17,250 --> 00:10:22,620
gnderim yapyorsanz Chrome'un her zaman gnderdii bir seenek isteidir. bir posta istei.

132
00:10:22,620 --> 00:10:27,810
Bu, ilgili mesajdr, bu yazyla birlikte talep edilir ve veritabanmzda,

133
00:10:27,960 --> 00:10:32,910
yeni yaplandrdmz burger ile yeni bir sipari aldmz dorulayabiliriz.

134
00:10:32,910 --> 00:10:39,080
imdi bu imdi alyor, imdi korumal kaynaklara ulamak iin bu jetonu kullanyoruz ve

135
00:10:39,240 --> 00:10:44,520
rnein uygulamay yeniden yklediinizde ve siparileri ziyaret ettiinizde grebileceiniz gibi, bir

136
00:10:44,520 --> 00:10:45,530
belirteciniz yoksa almyor.

137
00:10:45,660 --> 00:10:48,430
Tabii ki sadece bir sayfay ziyaret etmek ve sonra

138
00:10:48,430 --> 00:10:51,060
baarsz olmak iin en iyi kullanc deneyimi deil.

139
00:10:51,180 --> 00:10:56,280
lk etapta kimliklendirmemiz gereken sayfalar ziyaret edemezsek daha iyi olurdu. Tabii

140
00:10:56,280 --> 00:11:01,620
ki, eer kimlik dorulamas yaplrsa kullanc arayznn bize gstermesi daha iyi olurdu

141
00:11:01,620 --> 00:11:08,150
ve eer oturum aabilirsek en iyisi olurdu Kullanc, teorik olarak hala geerli bir belirte

142
00:11:08,280 --> 00:11:11,910
ise, uygulamay yeniden yklediimizde kimlik dorulama durumumuzu kaybetmeyiz.

143
00:11:11,910 --> 00:11:15,060
Bunlar bir sonraki derslerde stesinden geleceimiz eyler.

