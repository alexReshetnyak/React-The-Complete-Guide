1
00:00:02,240 --> 00:00:09,830
Quindi, tornando alla nostra applicazione,  qui che l'ultima volta l'abbiamo lasciata, aggiunger un nuovo contenitore. Aggiunger la cartella dei contenitori e la

2
00:00:09,830 --> 00:00:11,520
chiamer auth, ovviamente

3
00:00:11,570 --> 00:00:13,570
puoi chiamarlo come

4
00:00:13,760 --> 00:00:19,450
vuoi e l creer l'auth. js file e questa sar questa pagina che voglio caricare

5
00:00:19,550 --> 00:00:24,280
con il modulo di iscrizione o di accesso. Ora qui, creer un componente basato sulla

6
00:00:24,530 --> 00:00:31,110
classe, quindi importer reagire e componente di reagire,  passato un po 'di tempo da quando abbiamo creato

7
00:00:31,110 --> 00:00:35,360
un componente del genere, ma sono sicuro che tu sappia come funziona.

8
00:00:35,380 --> 00:00:37,480
Lo creiamo con la parola chiave

9
00:00:37,540 --> 00:00:43,280
class, quindi il nome del componente come auth e estendiamo questo componente che stiamo importando.

10
00:00:43,310 --> 00:00:49,980
Qui abbiamo bisogno di un metodo di rendering in cui restituiamo alcuni jsx e, alla fine, esporter questa

11
00:00:49,980 --> 00:00:51,910
classe come default del file.

12
00:00:51,940 --> 00:00:59,650
Ora il jsx qui sar abbastanza vicino al nostro modulo dati di contatto, avr un div wrapping e l

13
00:00:59,650 --> 00:01:04,020
aggiunger un elemento modulo e in questo elemento modulo voglio usare

14
00:01:04,030 --> 00:01:11,110
il mio input personalizzato e i componenti dei pulsanti, proprio come Li uso nel componente o nel contenitore

15
00:01:11,170 --> 00:01:12,770
dei dati di contatto.

16
00:01:12,910 --> 00:01:20,120
Gestir anche il mio modulo attraverso lo stato di questo contenitore di autenticazione, non tramite redux perch sto solo parlando dello

17
00:01:20,120 --> 00:01:24,600
stato locale, dei valori che l'utente ha inserito nei loro input di modulo

18
00:01:24,670 --> 00:01:30,760
e cos via e ha pi senso da usare loro e gestirli all'interno del contenitore con la propriet

19
00:01:30,760 --> 00:01:31,860
dello stato di react.

20
00:01:31,930 --> 00:01:38,890
Quindi aggiungo lo stato qui e aggiunger una propriet di controlli e lo imposter in modo uguale ai dati di

21
00:01:38,890 --> 00:01:42,270
contatto in modo da poter riutilizzare la logica da l,

22
00:01:42,280 --> 00:01:49,090
l abbiamo avuto una propriet orderForm e poi abbiamo avuto il vari controlli e tutti avevano qualcosa come l'elemento,

23
00:01:49,090 --> 00:01:51,710
il tipo, la configurazione e cos via.

24
00:01:51,760 --> 00:01:59,560
Ho intenzione di copiare il controllo del nome da l e metterlo nel mio oggetto auth controls e rinominarlo dal

25
00:01:59,560 --> 00:02:01,390
nome alla e-mail, ora il

26
00:02:01,390 --> 00:02:04,150
tipo di elemento sar ancora un elemento

27
00:02:04,420 --> 00:02:12,220
di input, la configurazione qui creer un elemento di input di digitare e-mail e segnaposto dovrebbe essere solo l'indirizzo di

28
00:02:12,790 --> 00:02:14,510
posta, per esempio.

29
00:02:14,830 --> 00:02:16,810
Ora il valore inizialmente

30
00:02:16,870 --> 00:02:24,670
 vuoto, per quanto riguarda le regole, voglio riutilizzare il metodo checkValidity dai dati di contatto

31
00:02:24,670 --> 00:02:27,890
e l, supporto cose come minLength, maxLength,

32
00:02:27,970 --> 00:02:34,190
isEmail, isNumeric e sostanzialmente ci che voglio introdurre anche nel contenitore auth .

33
00:02:34,560 --> 00:02:43,150
Quindi ho richiesto e ora voglio anche impostare ismail su true per questo controllo e-mail che sto creando qui, inizialmente valido

34
00:02:43,840 --> 00:02:47,570
dovrebbe essere falso e anche il tocco  falso.

35
00:02:47,800 --> 00:02:52,550
E ora, lo duplicher una volta per avere anche un campo password,

36
00:02:52,720 --> 00:02:58,250
quindi qui aggiunger una password come questa, sar anche di tipo input ma poi,

37
00:02:58,480 --> 00:03:05,710
il tipo di elemento sar di quello, il tipo di input stesso sar quindi essere una password e

38
00:03:05,860 --> 00:03:08,210
il segnaposto sar quindi una password.

39
00:03:08,380 --> 00:03:09,690
Dovrebbe essere richiesto e

40
00:03:09,700 --> 00:03:15,420
diciamo che vogliamo avere una lunghezza minima di sette caratteri o sei caratteri forse, che

41
00:03:15,430 --> 00:03:20,710
in realt  la lunghezza minima richiesta da Firebase, ovviamente aggiustalo al tuo back-end.

42
00:03:20,710 --> 00:03:27,550
Con questo abbiamo ottenuto questo set up, ora possiamo creare dinamicamente quel modulo e per quello, ho prima di

43
00:03:27,550 --> 00:03:30,360
tutto bisogno di importare i componenti di input

44
00:03:30,370 --> 00:03:37,540
e pulsanti in modo che i miei componenti l. Ingresso da, ora ho bisogno di salire nella cartella dei componenti,

45
00:03:37,630 --> 00:03:45,560
nella cartella dell'interfaccia utente, quindi l la cartella di input con il file di input e lo stesso per il componente pulsante, come questo.

46
00:03:45,580 --> 00:03:48,940
Ora la logica  la stessa del componente dei dati di contatto,

47
00:03:48,970 --> 00:03:55,900
qui abbiamo anche eseguito il looping di tutti i nostri controlli e quindi posso copiare il codice da l dove ho convertito il mio

48
00:03:55,900 --> 00:04:02,860
oggetto di stato in un array che posso scorrere, copier quello . Poi passer al contenitore auth e aggiunger quello

49
00:04:02,860 --> 00:04:07,530
nel metodo di rendering prima di restituire qualcosa e ora voglio

50
00:04:07,870 --> 00:04:13,690
collegarlo e creare il mio modulo. Quindi creer una nuova costante che chiamer forma

51
00:04:13,690 --> 00:04:21,980
e l, voglio prendere il mio array di elementi del modulo chiamato map per mapparlo in una serie di elementi jsx,

52
00:04:22,060 --> 00:04:29,180
ottengo qui ogni elemento del modulo e restituir jsx, I voglio restituire il mio input,  un elemento

53
00:04:29,320 --> 00:04:33,080
che si chiude automaticamente e richiede molte chiavi e propriet.

54
00:04:33,100 --> 00:04:35,130
Il primo  la

55
00:04:35,530 --> 00:04:44,190
propriet chiave, l voglio solo usare l'ID dell'elemento del modulo che  disponibile poich lo aggiungo qui.

56
00:04:44,200 --> 00:04:50,220
Se ricordi il modulo del modulo, lo abbiamo aggiunto qui,  il nome dell'elemento per essere precisi e

57
00:04:50,590 --> 00:04:56,200
quindi, tutti gli altri tasti che sono previsti. Possiamo dare un'occhiata ai dati di contatto e

58
00:04:56,200 --> 00:04:59,780
possiamo effettivamente copiare tutto il set up da l, per tutti

59
00:04:59,780 --> 00:05:05,050
gli altri oggetti di scena che abbiamo impostato sull'elemento input e aggiungerlo qui nel contenitore auth.

60
00:05:05,050 --> 00:05:08,180
Quindi possiamo anche lasciare il codice cos com' perch ho

61
00:05:08,200 --> 00:05:13,560
mantenuto il nome, sto parlando di un elemento del form nel mio ciclo e lo uso anche qui.

62
00:05:13,810 --> 00:05:19,060
Ho una chiave di configurazione e una chiave di valore e tutte queste chiavi perch

63
00:05:19,060 --> 00:05:21,480
uso la stessa configurazione nella mia propriet

64
00:05:21,820 --> 00:05:28,090
di stato, quindi  davvero riusabile e con questo, ora abbiamo un insieme di input generati dinamicamente.

65
00:05:28,510 --> 00:05:31,320
Ora la prossima cosa  ovviamente che ho

66
00:05:31,390 --> 00:05:41,050
anche bisogno di un pulsante cos sotto tutti questi input, aggiunger un pulsante. Quel pulsante richiede un puntello di tipo a pulsante che imposter per il

67
00:05:41,050 --> 00:05:48,160
successo, il pericolo sarebbe l'altra opzione che abbiamo nella nostra applicazione e che non dovrebbe far parte del mio

68
00:05:48,160 --> 00:05:54,340
modulo qui per, che dovrebbe far parte del mio elemento di forma laggi dove restituire qualcosa

69
00:05:54,340 --> 00:05:59,970
e sopra al pulsante, render il contenuto del modulo che contiene i miei input.

70
00:06:00,820 --> 00:06:07,000
Con questo, il pulsante non dovrebbe essere un elemento di auto-chiusura ma il pulsante dovrebbe consentirmi di aggiungere

71
00:06:07,450 --> 00:06:09,960
alcuni sottotitoli tra i tag, quindi qui

72
00:06:10,120 --> 00:06:18,310
dir semplicemente submit e ora abbiamo un modulo con input e un pulsante. Per vederlo, abbiamo bisogno di caricarlo tramite routing, abbiamo ottenuto il contenitore

73
00:06:18,410 --> 00:06:24,520
auth e abbiamo impostato tutti i nostri percorsi nell'app. file js.

74
00:06:24,770 --> 00:06:25,610
&nbsp;

75
00:06:25,940 --> 00:06:34,990
Quindi voglio importare il mio contenitore auth, import auth da. / contenitori auth e auth di nuovo e

76
00:06:35,180 --> 00:06:43,220
ora qui, semplicemente replicher uno dei percorsi e diciamo per / auth, voglio caricare questo

77
00:06:43,280 --> 00:06:46,100
componente auth, in quel modo.

78
00:06:46,100 --> 00:06:49,030
Proviamo questo e per essere in grado di

79
00:06:49,130 --> 00:06:57,710
raggiungerlo, andr anche nella mia cartella dei componenti e l alla navigazione, elementi di navigazione nel componente degli elementi di navigazione, qui abbiamo

80
00:06:57,770 --> 00:06:59,290
i nostri link e

81
00:06:59,540 --> 00:07:02,530
ne aggiunger uno nuovo, aggiunger un link a

82
00:07:02,720 --> 00:07:10,960
/ auth e gli dar una didascalia di autenticazione, qualcosa del genere. Con questo set, torniamo all'applicazione, siamo in

83
00:07:10,960 --> 00:07:14,890
fase di autenticazione, lo stile  un

84
00:07:14,890 --> 00:07:18,650
po 'spento e se lo ispezioniamo, non

85
00:07:18,790 --> 00:07:22,490
riesco a individuare i miei input.

86
00:07:22,870 --> 00:07:28,890
Quindi torniamo al contenitore auth e vediamo dove sono gli input, abbiamo una forma,

87
00:07:28,930 --> 00:07:32,840
che dovrebbe essere quella forma costante, ma in qualche

88
00:07:33,030 --> 00:07:35,240
modo quando eseguiamo il looping

89
00:07:35,250 --> 00:07:38,560
della matrice qui, sembra che non creiamo realmente input.

90
00:07:38,560 --> 00:07:41,940
Il motivo  perch ho copiato il codice dai dati

91
00:07:41,980 --> 00:07:49,340
di contatto, mi riferisco a una propriet orderForm nel mio stato ma qui nel contenitore auth, l'ho rinominato per i controlli

92
00:07:49,630 --> 00:07:51,570
quindi lo cambier anche qui

93
00:07:51,790 --> 00:07:55,090
e ora se torniamo indietro , vediamo i controlli.

94
00:07:55,160 --> 00:08:01,960
Ora, per dare anche questo stile, aggiunger un'autenticazione. file css e copier lo stile dal file css

95
00:08:01,960 --> 00:08:07,340
dei dati di contatto, sostituir la classe dei dati di contatto qui con la

96
00:08:07,360 --> 00:08:13,900
classe auth e lascer tutto lo stile e nell'autore. js file, quindi importer le

97
00:08:14,170 --> 00:08:23,800
mie classi dal file. / Auth. file css e poi lo assegner al div wrapping, in

98
00:08:23,800 --> 00:08:32,180
modo che il div wrapping qui riceva il nome della classe che  classi. Auth, questa classe css appena aggiunta.

99
00:08:32,180 --> 00:08:34,160
Se ora salviamo tutti questi

100
00:08:34,160 --> 00:08:38,740
file, questo sembra abbastanza buono su tutte le dimensioni del dispositivo, immagino.

101
00:08:38,840 --> 00:08:45,520
Quindi questo  il mio modulo di registrazione, il prossimo passo  anche configurare questo modulo per avere

102
00:08:45,530 --> 00:08:47,370
la convalida, quindi facciamolo nel

103
00:08:47,450 --> 00:08:50,920
prossimo passaggio, copier anche il codice per questo dai

104
00:08:51,020 --> 00:08:57,560
dati di contatto e, tra l'altro, con tutte queste copie di codice , diresti correttamente, non possiamo esternalizzare

105
00:08:57,560 --> 00:09:00,240
parte di questo codice in un file

106
00:09:00,260 --> 00:09:05,970
centralizzato e s, lo faremo nel prossimo modulo in cui applicheremo alcune ottimizzazioni a questo progetto.

107
00:09:05,990 --> 00:09:09,680
Per ora, vorrei solo controllare checkValidity, questo metodo,

108
00:09:09,830 --> 00:09:18,620
copiarlo e aggiungerlo al mio contenitore auth, quindi sopra render, aggiunger checkValidity che supporta varie regole, in realt tutte

109
00:09:18,620 --> 00:09:19,220
le

110
00:09:19,250 --> 00:09:26,600
regole che uso qui e ora ho bisogno di un inputChangedHandler e otterr anche questo dai

111
00:09:26,600 --> 00:09:28,040
dati di contatto.

112
00:09:28,370 --> 00:09:37,290
Quindi, per verificare la validit, aggiunger un nuovo metodo al mio contenitore auth, lo chiamer inputChangedHandler e l, mi

113
00:09:38,000 --> 00:09:44,500
aspetto di ottenere l'evento e il nome del controllo che  cambiato e l,

114
00:09:45,450 --> 00:09:51,560
ora posso usare molto della logica ma non tutti dai dati di contatto.

115
00:09:51,900 --> 00:09:59,640
Voglio creare un modulo aggiornato, non denominato orderForm anche se aggiorno i miei elementi

116
00:09:59,640 --> 00:10:08,850
ma lo far manualmente qui nel contenitore auth. Creer quindi la costante constantControls in cui creer un nuovo

117
00:10:08,850 --> 00:10:16,680
oggetto in cui copier questo. stato. controlla prima e poi voglio aggiornare solo

118
00:10:16,680 --> 00:10:22,040
uno dei controlli, il controllo con il nome del controllo che abbiamo qui.

119
00:10:22,440 --> 00:10:28,170
Quindi i controlli di stato copia semplicemente tutti gli elementi all'interno di questo oggetto di controllo e uno

120
00:10:28,320 --> 00:10:33,300
di essi verr quindi sovrascritto da me e questo  quello con il nome che ricevo

121
00:10:33,300 --> 00:10:37,730
come argomento qui e che dovrebbe quindi ricevere a sua volta un nuovo oggetto.

122
00:10:37,980 --> 00:10:46,740
Quindi qui, lo chiamer anche questo. stato. controlla per quel determinato nome di controllo

123
00:10:46,740 --> 00:10:51,120
e distribuisci tutte queste propriet in modo tale da poter sovrascrivere

124
00:10:51,120 --> 00:10:59,530
alcune propriet, ad esempio il valore, ora il valore di questo controllo e posso praticamente ora sovrascrivere tutte le propriet che

125
00:10:59,530 --> 00:11:03,240
abbiamo qui sul controllo, come valore e valido e toccato.

126
00:11:03,730 --> 00:11:14,510
Quindi il valore sar ora evento. bersaglio. valore, valido user questo metodo checkValidity e l

127
00:11:14,560 --> 00:11:16,580
passer l'evento. bersaglio. valore e

128
00:11:16,630 --> 00:11:19,080
le regole di questo controllo dato,

129
00:11:19,090 --> 00:11:25,810
quindi le regole sono questo. stato. controlli per questo nome di controllo,

130
00:11:25,870 --> 00:11:29,820
l abbiamo questa propriet di convalida che passer, cos che

131
00:11:29,830 --> 00:11:35,740
si riferisce a quella propriet di validazione che ogni controllo ha dove ho impostato le regole.

132
00:11:35,890 --> 00:11:39,640
Quindi questo  quello che passo come secondo argomento per

133
00:11:40,410 --> 00:11:47,580
verificare la validit, inoltre aggiunger un'altra propriet, toccata, verr impostata su true qui ogni volta che questo inputChangedHandler si

134
00:11:47,580 --> 00:11:51,490
attiva, l'utente ha digitato qualcosa cos  stato sicuramente toccato.

135
00:11:51,750 --> 00:11:57,840
Quindi, aggiorno il mio controllo individuale che  stato modificato, aggiorno tutti

136
00:11:57,870 --> 00:12:01,190
i campi rilevanti che voglio cambiare.

137
00:12:01,500 --> 00:12:06,510
Ora deliberatamente non gestir la validit complessiva del modulo qui, non controller questo,

138
00:12:06,510 --> 00:12:07,740
non disabiliter il

139
00:12:07,740 --> 00:12:14,070
pulsante di invio per i moduli non validi perch voglio anche mostrare cosa succede se inviamo moduli

140
00:12:14,100 --> 00:12:15,490
non validi, puoi ovviamente

141
00:12:15,540 --> 00:12:18,400
implementare anche questo, ma non lo far.

142
00:12:18,810 --> 00:12:25,320
Cos ho praticamente finito qui, quello che dovr fare  chiamare lo

143
00:12:25,800 --> 00:12:29,880
stato set in inputChangedHandler e impostare la propriet

144
00:12:29,880 --> 00:12:35,900
controls uguale a my updatedControls ora. Con ci ho funzionato, ora devo collegarlo, l'ho

145
00:12:35,970 --> 00:12:39,950
gi fatto perch ho usato lo stesso nome dei dati

146
00:12:40,080 --> 00:12:41,910
di contatto, quindi dovrebbe funzionare.

147
00:12:42,240 --> 00:12:48,450
Ora salviamo questo e vediamo se la convalida sta funzionando, quindi, nel progetto, se inizio a digitare qui,

148
00:12:48,450 --> 00:12:54,540
rimane invalido finch non si tratta di un indirizzo email valido e la password deve essere lunga almeno

149
00:12:54,540 --> 00:12:56,570
6 caratteri per essere considerata valida.

150
00:12:56,610 --> 00:12:57,440
Quindi funziona e,

151
00:12:57,450 --> 00:13:00,900
come ho detto, il pulsante non viene mai deliberatamente modificato.

152
00:13:00,900 --> 00:13:02,550
Quindi la mia forma 

153
00:13:02,640 --> 00:13:08,460
finita, il mio prossimo passo  ora di gestire la presentazione e, naturalmente, voglio farlo usando redux e creatori

154
00:13:08,730 --> 00:13:09,150
di azioni.

