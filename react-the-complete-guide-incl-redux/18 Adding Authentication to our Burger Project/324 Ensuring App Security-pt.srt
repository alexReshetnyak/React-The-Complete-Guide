1
00:00:02,190 --> 00:00:05,310
Agora vamos falar um pouco sobre

2
00:00:05,430 --> 00:00:09,350
segurana, deixe-me entrar novamente. Como voc aprendeu, gerenciamos

3
00:00:09,360 --> 00:00:16,290
nosso estado de autorizao aqui com o token e registramos automaticamente o usurio

4
00:00:16,320 --> 00:00:22,790
se tivermos um token vlido. Esse token s  vlido por 60 minutos, ou seja, por

5
00:00:22,800 --> 00:00:27,000
razes de segurana, porque se o token for roubado, qualquer pessoa pode acessar seus dados,

6
00:00:27,000 --> 00:00:29,010
 claro, agora isso soa muito ruim.

7
00:00:29,010 --> 00:00:36,150
Lembre-se de que ele est armazenado em seu aplicativo no armazenamento local, o armazenamento local pode ser acessado

8
00:00:36,150 --> 00:00:43,800
com ataques de script entre sites e ataques de script entre sites impedidos pelo Angular, por padro, no 

9
00:00:43,890 --> 00:00:45,760
possvel gerar um cdigo inseguro.

10
00:00:46,020 --> 00:00:48,500
Assim, voc tem muita proteo desse lado,

11
00:00:48,750 --> 00:00:55,020
portanto, seus dados e armazenamento local devem ser seguros, uma rede de segurana adicional  novamente que

12
00:00:55,020 --> 00:00:57,050
o token expira aps uma hora.

13
00:00:57,060 --> 00:01:02,520
Agora, o Firebase teoricamente tambm forneceria esse token atualizado se ns inspecionssemos a

14
00:01:02,520 --> 00:01:03,900
resposta que recebemos,

15
00:01:03,960 --> 00:01:08,080
aqui o token de atualizao. O token de atualizao no expira,

16
00:01:08,130 --> 00:01:14,640
voc pode armazen-lo tambm no armazenamento local e, em seguida, h um ponto final especfico na API de restabelecimento

17
00:01:14,640 --> 00:01:22,200
da autenticao firebase, onde voc pode trocar um token atualizado por um token de ID, basta enviar seu token atualizado para esse Ponto

18
00:01:22,350 --> 00:01:27,010
de extremidade da API e voc recebe de volta um novo token de ID.

19
00:01:27,180 --> 00:01:29,130
Teoricamente, esse  um padro legal,

20
00:01:29,130 --> 00:01:34,590
voc sempre pode fazer isso com cada solicitao HTTP enviada, e cada solicitao enviada enviar uma

21
00:01:34,590 --> 00:01:40,410
outra quando voc trocar seu token de atualizao por um novo token de ID, mesmo que o

22
00:01:40,410 --> 00:01:41,510
token de ID

23
00:01:41,610 --> 00:01:46,890
ainda no tenha expirado. que voc sempre obtm novos tokens de ID e tambm pode obter

24
00:01:46,890 --> 00:01:53,760
um novo quando o usurio fizer login automaticamente com a funcionalidade que adicionamos nas ltimas palestras, optei por no us-lo aqui.

25
00:01:53,820 --> 00:01:59,730
Tambm  seguro, porque podemos armazenar o token de atualizao no armazenamento local e, como mencionei, isso s

26
00:01:59,730 --> 00:02:02,410
 acessvel com ataques de script entre sites.

27
00:02:02,730 --> 00:02:09,210
Ainda assim, ter um token que nunca expira e que voc pode trocar por um token que

28
00:02:09,210 --> 00:02:16,890
lhe d acesso a tudo pode levar a problemas de segurana ou pelo menos voc deve ter muito cuidado em

29
00:02:16,890 --> 00:02:20,340
proteg-lo se estiver usando o token de atualizao.

30
00:02:20,340 --> 00:02:22,220
Isso  apenas algo que eu

31
00:02:22,260 --> 00:02:27,930
queria adicionar, voc pode melhorar a experincia do usurio usando o token de atualizao, voc pode essencialmente garantir

32
00:02:27,930 --> 00:02:34,980
que o usurio nunca seja desconectado porque como o token atualizado nunca expira, voc pode atualizar o token principal mesmo depois de

33
00:02:34,980 --> 00:02:36,220
uma semana apenas Verifique

34
00:02:36,480 --> 00:02:39,240
se o token est sendo vlido, no , pegue

35
00:02:39,410 --> 00:02:44,280
o token de atualizao e obtenha um novo, mas devido a essa questo de segurana,

36
00:02:44,280 --> 00:02:48,140
optei por no us-lo e gostaria de chamar a ateno para isso.

