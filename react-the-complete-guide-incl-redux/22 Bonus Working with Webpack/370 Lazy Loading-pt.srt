1
00:00:02,180 --> 00:00:07,450
Ento, na ltima palestra, ns terminamos nossa configurao de regras adicionando uma regra para imagens, agora

2
00:00:07,460 --> 00:00:12,520
eu quero dar uma olhada nos plugins e ento ver se a configurao realmente funciona.

3
00:00:12,560 --> 00:00:17,920
Agora em relao aos plugins,  realmente super simples para ns aqui, no precisamos de

4
00:00:17,990 --> 00:00:20,360
nenhum para o fluxo de trabalho de

5
00:00:20,420 --> 00:00:25,450
desenvolvimento, vamos adicionar um mais tarde quando configuramos isso para produo, l eu quero

6
00:00:25,460 --> 00:00:26,950
adicionar algum plugin mas

7
00:00:27,110 --> 00:00:30,880
por enquanto isso  tudo, eu no adicionar um plugin aqui.

8
00:00:31,310 --> 00:00:38,720
Ento, com isso, podemos dar uma olhada na configurao que usamos aqui e ver se salvamos o arquivo, se isso funcionar, se executarmos

9
00:00:38,930 --> 00:00:44,900
o nosso script de incio, que executa o servidor de desenvolvimento, que eu disse que tomaria automaticamente este

10
00:00:44,900 --> 00:00:45,740
arquivo de configurao.

11
00:00:45,860 --> 00:00:50,980
Ento vamos rodar esse script com o npm start, tenha certeza que todos os

12
00:00:51,200 --> 00:00:58,990
arquivos esto salvos e vamos ver se isso funciona, temos um erro aqui que o caminho no  um caminho absoluto, ento

13
00:00:59,040 --> 00:01:02,240
algo com o nosso caminho de sada est errado.

14
00:01:02,370 --> 00:01:04,390
Vamos dar uma olhada nisso, vamos para

15
00:01:04,530 --> 00:01:07,360
a configurao do nosso webpack, caminho aqui para a

16
00:01:07,770 --> 00:01:09,990
sada, bem eu estraguei tudo, no ?

17
00:01:10,090 --> 00:01:16,660
O caminho deve ser esta parte aqui e o caminho pblico deve ser a string vazia, ento com

18
00:01:16,860 --> 00:01:19,770
esta correo vamos agora tentar novamente, tambm certifique-se

19
00:01:19,770 --> 00:01:22,260
de salvar o arquivo de configurao atualizado.

20
00:01:23,130 --> 00:01:26,460
Ento agora, pelo menos, ele no falha ao iniciar

21
00:01:26,970 --> 00:01:32,580
o servidor, mas nos d um erro, embora no entenda essa sintaxe de importao aqui,

22
00:01:32,650 --> 00:01:36,010
a sintaxe de importao dinmica, ela no entende isso.

23
00:01:36,210 --> 00:01:45,190
Ento, como podemos entender essa importao dinmica? Precisamos ajustar nossa configurao aqui para poder criar blocos extras de cdigo

24
00:01:45,190 --> 00:01:48,910
gerados dinamicamente, o carregamento lento significa que  um pacote

25
00:01:49,180 --> 00:01:54,850
extra e no parte do pacote principal que  baixado inicialmente, para suportar a diviso

26
00:01:55,270 --> 00:02:01,420
de cdigo no webpack ea diviso de cdigo um nome diferente para carregamento lento, eu tenho

27
00:02:01,480 --> 00:02:05,000
que adicionar chunkFileName aqui para minha configurao de sada.

28
00:02:05,120 --> 00:02:12,460
Isso simplesmente determina quais so esses outros arquivos, os arquivos separados que so gerados para o cdigo carregado com preguia que obviamente

29
00:02:12,460 --> 00:02:15,040
no  includo no pacote, que iria contra

30
00:02:15,040 --> 00:02:17,220
o propsito da diviso de cdigo, qual

31
00:02:17,500 --> 00:02:19,540
nome de arquivo deve ser nomeado.

32
00:02:19,690 --> 00:02:24,890
Eles tm que ter uma parte varivel em seu nome porque eles so gerados pelo webpack dinamicamente, eu

33
00:02:25,000 --> 00:02:26,500
usarei o ID. js aqui,

34
00:02:26,530 --> 00:02:33,050
IDs so gerados dinamicamente ID 0, 1, 2 e assim por diante, gerados pelo webpack para que

35
00:02:33,190 --> 00:02:37,750
o recurso  terceirizado em pacotes separados recebeu seus prprios arquivos javascript.

36
00:02:38,140 --> 00:02:45,090
Alm disso, precisamos tornar o babel ciente dessa sintaxe de importao dinmica que, de

37
00:02:45,400 --> 00:02:50,650
outra forma, no entenderia, ento o que farei  instalar

38
00:02:50,650 --> 00:02:59,800
um plug-in, npm install --save-dev, chamado babel-plugin-syntax dynamic import e isso far com que o babel entenda essa

39
00:02:59,800 --> 00:03:01,720
sintaxe de importao dinmica.

40
00:03:02,020 --> 00:03:08,980
Ento, uma vez que isso foi instalado, podemos ir para o arquivo babelrc e j temos presets, agora eu

41
00:03:08,980 --> 00:03:13,150
tambm adicionarei um n de plugins aqui que tambm  um array

42
00:03:13,200 --> 00:03:17,490
e aqui eu adicionarei o plugin de importao dinmica da sintaxe, ento

43
00:03:17,570 --> 00:03:19,730
esse  o nome do plugin.

44
00:03:19,940 --> 00:03:26,720
Com isso adicionado, vamos salvar todos esses arquivos e vamos tentar novamente o npm start e ver se isso funciona agora,

45
00:03:26,720 --> 00:03:29,320
agora isso compila mas ns temos um erro

46
00:03:29,390 --> 00:03:35,270
diferente, ns recebemos um erro que esta sintaxe aqui onde atribumos nossas propriedades como isto no  desejado .

47
00:03:35,270 --> 00:03:42,590
A razo para isto  que a predefinio env que estamos usando, essa aqui s suporta os recursos mais recentes do navegador

48
00:03:42,590 --> 00:03:45,550
que fazem parte da especificao, mas essa sintaxe de

49
00:03:45,740 --> 00:03:51,710
propriedade especial est apenas no estado de rascunho e no est includa na predefinio env, isn No 

50
00:03:52,070 --> 00:03:54,790
um problema, mas temos apenas que adicionar outra predefinio.

51
00:03:54,860 --> 00:04:04,550
Portanto, com o npm install save-dev, agora instalamos outra predefinio chamada babel-preset-stage-2, as predefinies do estgio 2

52
00:04:04,550 --> 00:04:11,300
simplesmente so recursos de rascunho que podem eventualmente ser suportados, mas que

53
00:04:11,300 --> 00:04:13,280
j queremos usar.

54
00:04:13,280 --> 00:04:22,040
Ento, com isso, temos que adicionar isso  nossa configurao aqui e vou adicionar minha predefinio no meio, vou

55
00:04:22,670 --> 00:04:25,380
adicionar o estgio 2 aqui, assim.

56
00:04:25,400 --> 00:04:29,240
Vamos agora tentar novamente com o npm start e agora isso parece

57
00:04:29,240 --> 00:04:31,200
melhor, pelo menos ns no recebemos

58
00:04:31,460 --> 00:04:33,840
um erro, mas vamos enfrentar um problema.

59
00:04:33,860 --> 00:04:41,480
O aplicativo agora  servido e, por padro, ele est fazendo isso em localhost8080, ento vamos abrir isso, l, no entanto, no veremos

60
00:04:41,960 --> 00:04:44,510
o aplicativo, o motivo  que no conectamos

61
00:04:44,750 --> 00:04:51,530
nossa sada de compilao, que por sinal no  armazenada no pasta dist quando usamos webpack dev-server mas na memria,

62
00:04:51,530 --> 00:04:57,150
que no conectamos essa sada com o ndice. arquivo html, no temos importaes

63
00:04:57,170 --> 00:04:57,840
nesse

64
00:04:57,860 --> 00:04:59,730
arquivo, como adicionaramos

65
00:04:59,750 --> 00:05:01,970
o script a ele?

66
00:05:02,000 --> 00:05:08,000
Isso  algo que temos que fazer sozinhos e faremos isso na prxima palestra.

