1
00:00:02,190 --> 00:00:06,800
As que terminamos la configuracin de desarrollo en las ltimas conferencias, corrigimos algunos errores

2
00:00:06,810 --> 00:00:09,680
pero ahora tenemos una configuracin funcional que es genial.

3
00:00:09,710 --> 00:00:15,470
Ahora el siguiente paso es trabajar en el flujo de trabajo de produccin, en mi paquete. json file, quiero tener un segundo script, vamos

4
00:00:15,480 --> 00:00:17,720
a ponerle nombre a build y

5
00:00:17,760 --> 00:00:18,910
aqu no quiero

6
00:00:19,230 --> 00:00:24,550
ejecutar el webpack-dev-server, sino el paquete web. Ahora, si lo ejecutara as, utilizara

7
00:00:24,570 --> 00:00:28,170
la configuracin del flujo de trabajo de desarrollo.

8
00:00:28,410 --> 00:00:33,180
De hecho, podemos hacer esto para ver el resultado porque el servidor de desarrollo

9
00:00:33,180 --> 00:00:40,260
hizo todo en memoria, ahora podemos crear los archivos reales ejecutando npm run build, todo excepto el script de inicio debe

10
00:00:40,260 --> 00:00:46,860
ejecutarse con npm run, start es la excepcin con npm comienzo. As que npm run build ahora ejecutar el paquete

11
00:00:46,950 --> 00:00:53,350
web y tomar el mismo archivo de configuracin con el que trabajamos anteriormente, pero ahora nos da esta

12
00:00:53,370 --> 00:00:59,670
carpeta dist donde ahora ve el archivo de imagen que copi y ve aqu los archivos javascript.

13
00:01:00,000 --> 00:01:06,040
Usted ve el archivo de ndice que copi donde tambin inyect nuestra importacin y ese es

14
00:01:06,210 --> 00:01:11,000
todo el cdigo que tenemos, ahora lo que puede ver este archivo ya

15
00:01:11,010 --> 00:01:13,260
no est realmente optimizado, este ciertamente

16
00:01:13,410 --> 00:01:14,520
no es el

17
00:01:14,520 --> 00:01:22,370
cdigo que queremos enviar, as que borrar esta carpeta por ahora. El objetivo, en cambio, es tener un flujo de trabajo dedicado para la produccin que optimice algunas cosas, as que lo que

18
00:01:22,380 --> 00:01:30,570
har es agregar un segundo archivo de configuracin, un paquete web. pinchar. config. js.

19
00:01:30,720 --> 00:01:33,530
Ahora no tomar automticamente este archivo en

20
00:01:33,720 --> 00:01:37,550
cuenta, tendremos que sealarlo, pero eso es realmente sper simple.

21
00:01:37,680 --> 00:01:43,640
Ahora copiar la configuracin del otro archivo, del flujo de trabajo de desarrollo para que podamos ajustarlo en

22
00:01:43,860 --> 00:01:45,020
el flujo de trabajo

23
00:01:45,060 --> 00:01:47,450
de produccin, veamos qu tenemos que ajustar.

24
00:01:47,520 --> 00:01:48,830
Comencemos en la parte

25
00:01:48,900 --> 00:01:56,370
superior, la herramienta de desarrollo, aqu eliminar la evaluacin para crear mapas de origen ms ptimos que requieran menos recursos, puede decidir

26
00:01:56,370 --> 00:01:59,760
siempre si desea implementarlos o no, pero es bueno tener

27
00:01:59,760 --> 00:02:05,100
mapas de origen aqu tambin para encontrar rpidamente algunos errores en el flujo de trabajo de

28
00:02:05,100 --> 00:02:06,590
produccin, si los hay.

29
00:02:06,650 --> 00:02:15,880
Ahora el archivo de entrada todava debe ser ndice. js y la salida tambin sigue teniendo sentido como lo es,

30
00:02:15,920 --> 00:02:18,550
ahora los cargadores, y los cargadores?

31
00:02:18,710 --> 00:02:22,420
Bueno, queremos aplicar las mismas transformaciones que en el desarrollo,

32
00:02:22,490 --> 00:02:28,820
as que no necesitamos tocar los cargadores, haremos nuestro trabajo en la seccin de complementos, ahora

33
00:02:28,820 --> 00:02:34,730
tenemos un complemento para conectar el archivo html y quiero mantenerlo , lo que quiero

34
00:02:34,730 --> 00:02:42,680
hacer ahora es tambin querer mejorar mi resultado, quiero optimizarlo y, en realidad, es un complemento integrado en el paquete web,

35
00:02:42,680 --> 00:02:43,200
no

36
00:02:43,220 --> 00:02:45,010
es necesario que lo instale.

37
00:02:45,380 --> 00:02:49,540
Lo que har es que simplemente importar el paquete web en

38
00:02:49,550 --> 00:02:52,640
ese archivo, as que el paquete web requiere

39
00:02:53,240 --> 00:03:01,610
un paquete web y luego podemos usar uno de los complementos integrados. As que en la seccin de complementos aqu, agregar

40
00:03:01,610 --> 00:03:07,520
este complemento, aqu agregar un nuevo paquete web, optimizar y all tenemos el

41
00:03:07,550 --> 00:03:10,160
plugin uglify js. Este complemento ahora

42
00:03:10,280 --> 00:03:12,040
tambin se puede configurar y

43
00:03:12,470 --> 00:03:17,390
siempre puedes consultar las pginas oficiales de github de todos estos complementos y

44
00:03:17,480 --> 00:03:20,360
cargadores para hacerlo, pero tomar la configuracin predeterminada,

45
00:03:20,660 --> 00:03:28,490
as que lo eliminar y con eso obtuve mi flujo de trabajo de produccin. donde tambin optimizo los archivos, donde los

46
00:03:28,490 --> 00:03:31,210
minimizo para enviar el menor cdigo posible.

47
00:03:31,370 --> 00:03:38,510
Ahora para usar esta configuracin, necesito ajustar mi paquete. json, los scripts de compilacin aqu donde apunto en el

48
00:03:38,510 --> 00:03:39,790
paquete web, no quiero

49
00:03:39,950 --> 00:03:42,440
usar la configuracin predeterminada en su lugar,

50
00:03:42,470 --> 00:03:48,800
quiero usar uno especial, entonces usar --config, eso es un indicador que podemos pasar al script de webpack y

51
00:03:48,800 --> 00:03:55,520
all sealar el paquete web. pinchar. config. js ya que est en la misma

52
00:03:55,520 --> 00:03:57,800
carpeta que el paquete. json file, no

53
00:03:57,950 --> 00:03:59,570
necesito especificar ninguna ruta,

54
00:03:59,630 --> 00:04:05,340
solo puedo especificar el nombre del archivo. Con eso tambin agregar algunas opciones adicionales,

55
00:04:05,360 --> 00:04:13,700
progreso, perfil, whoops, perfil y colores para ajustar la salida de la consola del flujo de trabajo de construccin de la

56
00:04:13,730 --> 00:04:18,940
carpeta web y instalar un paquete adicional con npm install --save-dev, se llama

57
00:04:18,950 --> 00:04:26,210
rimraf y nos permite eliminar una carpeta o archivos y queremos eliminar la carpeta dist al inicio de

58
00:04:26,300 --> 00:04:33,770
cada proceso de compilacin para que podamos crear uno nuevo. Entonces ejecutar rimraf dist primero y luego dos y signos

59
00:04:33,800 --> 00:04:37,880
para luego ejecutar este proyecto o este comando aqu, disclpeme una

60
00:04:37,880 --> 00:04:42,800
vez que la eliminacin haya finalizado. Con eso, ejecutemos build de nuevo, npm

61
00:04:43,040 --> 00:04:48,650
ejecute build y veamos si esto nos da un buen resultado, me da un error

62
00:04:48,710 --> 00:04:53,600
porque debera ser --profile aqu como un indicador de webpack, as que arreglemos

63
00:04:53,660 --> 00:04:54,530
esto, guardemos

64
00:04:54,530 --> 00:05:01,400
el archivo y lo ejecutamos nuevamente npm run build. Ahora con eso, est construyendo el proyecto, podemos verlo aqu, debera

65
00:05:02,380 --> 00:05:04,810
tener xito y lo hace, nos da la

66
00:05:04,900 --> 00:05:06,880
carpeta dist todava, pero si echamos

67
00:05:06,910 --> 00:05:11,410
un vistazo al archivo de paquete ahora, ver que se trata de cdigo reducido.

68
00:05:11,410 --> 00:05:15,000
Es una gran cantidad de cdigo porque incluye la biblioteca de reactividad completa, pero todo esto

69
00:05:15,220 --> 00:05:21,770
est minimizado y, por lo tanto, optimizado, y lo mismo, por supuesto, en nuestro 0. js archivo.

70
00:05:21,790 --> 00:05:26,940
Entonces ahora tenemos nuestra carpeta dist y esto sera lo que cargamos en un servidor, el

71
00:05:26,950 --> 00:05:28,690
contenido de la carpeta dist.

72
00:05:29,010 --> 00:05:34,720
Este es ahora nuestro propio flujo de trabajo y espero que se haya vuelto un poco ms claro cmo funciona el paquete web y

73
00:05:34,720 --> 00:05:36,740
cmo puede configurar dicho flujo de trabajo personalizado.

