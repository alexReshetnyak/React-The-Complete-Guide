1
00:00:02,300 --> 00:00:09,590
Zastosujmy logik, aby przekaza prawdziwe skadniki, ktre wybralimy na kontenerze kasowym. Zrobi to tutaj w moim komponencie do budowania

2
00:00:09,590 --> 00:00:16,390
burgerw, oczywicie tam, gdzie naciskam na stron kasy. Tam chc teraz przesa obiekt

3
00:00:16,430 --> 00:00:19,520
javascript, w ktrym ustawi nazw

4
00:00:19,610 --> 00:00:27,320
cieki na / Checkout, ale gdzie nastpnie mog okreli parametr wyszukiwania, zapytanie,

5
00:00:27,860 --> 00:00:30,880
w ktrym chc poda skadniki.

6
00:00:30,890 --> 00:00:38,570
Teraz musz oczywicie zakodowa moje skadniki w takim zapytaniu, jak mog

7
00:00:38,570 --> 00:00:39,780
to zrobi?

8
00:00:41,250 --> 00:00:46,840
Stworz now sta, ktra nazwabym queryParams, nazwa oczywicie zaley od ciebie

9
00:00:46,840 --> 00:00:49,020
i na pocztku bdzie

10
00:00:49,130 --> 00:01:00,130
to pusta tablica, ale potem chc doda elementy do tej tablicy, zrobi to za pomoc ptli for i Przejd przez wszystkie

11
00:01:00,160 --> 00:01:06,470
waciwoci w tym. stan. skadniki tak jak w moich skadnikach. Teraz popchn kady

12
00:01:06,730 --> 00:01:09,710
skadnik do tej tablicy zapytaParams, ale

13
00:01:10,730 --> 00:01:16,640
uyj maej metody helpera, ktra jest dostarczana przez javascript, encodeURIComponent, ktry po

14
00:01:16,640 --> 00:01:23,340
prostu koduje moje elementy tak, e mog by uyte w adresie URL, jest to

15
00:01:23,360 --> 00:01:26,820
istotne dla biaych znakw i tak dalej .

16
00:01:26,950 --> 00:01:34,130
Tam uyj nazwy wasnoci I, ktra nie bdzie wymaga kodowania w moim przypadku, poniewa bdzie dziaa tak

17
00:01:34,130 --> 00:01:35,270
jak saatka i

18
00:01:35,270 --> 00:01:38,110
tak dalej, wszystkie te elementy s niekrytyczne.

19
00:01:38,480 --> 00:01:46,130
Nastpnie dodaj znak rwnoci, poniewa mamy klucz rwny co w queryParams, a nastpnie zakodowuj

20
00:01:46,130 --> 00:01:47,010
warto. Ponownie,

21
00:01:47,030 --> 00:01:52,910
nie bdzie to naprawd potrzebne, poniewa warto jest po prostu liczb, ktra nie

22
00:01:53,180 --> 00:01:59,530
jest krytyczna, ale tutaj uyj tych skadnikw stanu dla klucza, ktrym aktualnie jestemy.

23
00:01:59,570 --> 00:02:05,000
Wic to jest klucz, to s nazwy waciwoci w moich skadnikach

24
00:02:05,090 --> 00:02:11,840
na samym kocu i tutaj ustawiam nazw waciwoci rwn dobrze wartoci tej nazwy waciwoci.

25
00:02:11,960 --> 00:02:19,040
Wic jest to tablica, ktra ma teraz kilka cigw, ktra jest nazw waciwoci rwn wartoci waciwoci.

26
00:02:19,070 --> 00:02:23,960
Teraz ta tablica acuchw jest tym, do czego chc doczy znakiem &amp;.

27
00:02:24,080 --> 00:02:30,650
Wic dodam sta queryString tutaj, gdzie bd uywa mojej tablicy queryParams, wywouj metod join i doczam

28
00:02:30,680 --> 00:02:40,120
do niej znakiem &amp;, a na kocu chc j tutaj doczy? a nastpnie mj queryString, ktry jest

29
00:02:40,690 --> 00:02:48,100
tylko moim cigiem skadnikw. Pozwl mi to zapisa i zobaczmy, czy to zadziaa, jeli wrc do

30
00:02:48,220 --> 00:02:50,130
budowniczego burgera i tak, linki nie

31
00:02:50,290 --> 00:02:56,210
s dobrymi linkami, wci s to stare linki, ktre przeadowuj aplikacj, ale na razie wszystko jest w porzdku.

32
00:02:56,440 --> 00:03:00,860
Zbudujmy teraz hamburgera, kliknij polecenie "teraz" i kliknij "kontynuuj",

33
00:03:01,060 --> 00:03:06,350
a zobaczysz, e przekazuj je w ten sposb w adresie URL.

34
00:03:06,430 --> 00:03:12,100
Teraz oczywicie musz parsowa to w komponencie kasowym, a nastpnie zrobi to w componentDidMount

35
00:03:12,100 --> 00:03:12,920
Nie bd

36
00:03:13,210 --> 00:03:19,900
uywa componentDidUpdate ani niczego podobnego, poniewa za kadym razem, gdy aduj ten komponent, bdzie si on

37
00:03:19,900 --> 00:03:20,770
montowa, nie

38
00:03:20,770 --> 00:03:27,180
ma moliwoci, abym mg prowadzi do niego bez ponownego montowania, poniewa nie jest zagniedony na

39
00:03:27,190 --> 00:03:29,360
innej stronie lub czym podobnym.

40
00:03:29,360 --> 00:03:36,400
Teraz chciabym uy kodu, ktry wczeniej widziae, aby wyodrbni parametry zapytania. Stworz now sta, ktra

41
00:03:36,400 --> 00:03:43,010
bdzie nazw kwerendy, gdzie uyem konstruktora URLSearchParams,

42
00:03:43,140 --> 00:03:51,700
przekaza to. rekwizyty. Lokalizacja. wyszukiwanie, ktre obejmuje? i tak dalej, ale z celem

43
00:03:51,700 --> 00:03:54,020
wyszukiwania adresw URL, mog zasadniczo wydoby to.

44
00:03:54,190 --> 00:04:01,910
Dodam tutaj nowy obiekt skadnikw, poniewa chc przechowywa obiekt skadnikw w tym formularzu tutaj, w stanie,

45
00:04:01,930 --> 00:04:09,070
a nastpnie uyj go do wynajcia paramu zapytania. wpisy, jak si dowiedziae, aby przechodzi

46
00:04:09,070 --> 00:04:14,410
przez rne zapytaniaParams i powiedziaem, e kady wpis bdzie

47
00:04:14,440 --> 00:04:22,230
mia ten format, klucz taki jak saatka, a nastpnie warto taka jak jedna.

48
00:04:22,240 --> 00:04:31,490
Teraz oczywicie chc to zmieni w ten format obiektu, wic powiem po prostu element skadowy param element 0, ktry jest po

49
00:04:31,580 --> 00:04:37,430
prostu tak nazw, ktra jest nastpnie uywana jako nazwa waciwoci i dodaje j

50
00:04:37,460 --> 00:04:40,330
do tego skadnika, ktry powinien by

51
00:04:40,370 --> 00:04:48,080
rwny I teraz dochodzi do wartoci, ktra jest po prostu param elementem elementarnym, t wartoci, i moemy

52
00:04:48,080 --> 00:04:50,170
j przekonwertowa na liczb przez

53
00:04:50,210 --> 00:04:55,610
dodanie plusa i oczywicie powinny tu by skadniki wykorzystujce ten obiekt javascript.

54
00:04:55,610 --> 00:05:02,330
Teraz, gdy ju to zrobi, mog nazwa ten stan zestawu i mam nadziej, e uda mi si z powodzeniem ustawi

55
00:05:02,330 --> 00:05:05,130
moje skadniki na skadniki, ktre tu stworzyem i wypakowaem.

56
00:05:05,510 --> 00:05:08,240
Zachowajmy to, zobaczmy, czy to dziaa,

57
00:05:08,360 --> 00:05:10,880
wyglda cakiem niele. Jeli teraz rcznie

58
00:05:10,900 --> 00:05:16,680
zmieni, powiedzmy, e ser na 2 w parametrze zapytania, wyodrbniamy i adujemy to pomylnie.

59
00:05:16,700 --> 00:05:21,940
Teraz moemy przekazywa dane za pomoc queryParams, co jest ogromnym postpem.

60
00:05:22,010 --> 00:05:25,310
Przyjrzyjmy si dalszej pracy nad danymi kontaktowymi.

