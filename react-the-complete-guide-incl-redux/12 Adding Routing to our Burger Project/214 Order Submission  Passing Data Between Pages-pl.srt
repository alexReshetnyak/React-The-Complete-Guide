1
00:00:02,340 --> 00:00:05,830
W ostatnim wykadzie upewnilimy si, e moemy zaadowa dane kontaktowe.

2
00:00:05,910 --> 00:00:13,290
Teraz chc si upewni, e kiedy klikniemy ten przycisk tutaj, faktycznie zoymy nasze zamwienie, w tym celu

3
00:00:13,530 --> 00:00:21,230
dodam orderHandler, ktry jest metod stworzon w tej skadni, abymy mogli z atwoci wykorzysta j w zdarzeniach.

4
00:00:21,630 --> 00:00:29,460
A potem na tym przycisku, jak we wszystkich przyciskach, uywajc naszego wasnego komponentu przycisku, moemy uy naszej kliknitej

5
00:00:29,550 --> 00:00:34,560
waciwoci i przekaza metod, ktra powinna zosta wykonana po klikniciu jako odniesienie.

6
00:00:34,560 --> 00:00:36,920
Tak wic teraz ten dzia

7
00:00:37,170 --> 00:00:42,670
obsugi zamwie zostanie wykonany, oczywicie potrzebujemy dostpu do skadnikw i danych

8
00:00:43,050 --> 00:00:44,680
kontaktowych, aby speni

9
00:00:44,700 --> 00:00:50,100
t prob, a oto maa sztuczka, ktr chc ci pokaza, nauczyam

10
00:00:50,100 --> 00:00:50,910
ci wszystkich

11
00:00:50,910 --> 00:01:00,790
cegieek, ktrych potrzebujesz, ale moe nadal nie by uczciwym. W kontenerze do sprawdzania, w ktrym umieszczamy komponent taki

12
00:01:00,890 --> 00:01:05,840
jak ten na ciece danych kontaktowych, chc jako przekaza

13
00:01:06,030 --> 00:01:16,380
skadniki, ktre mam w tym komponencie do kontaktu z danymi. W tym celu nie uyj tutaj komponentu, ale waciwo

14
00:01:16,410 --> 00:01:23,700
renderowania, ktra przyjmuje metod, gdy dowiedziae si, gdzie nastpnie wywietlasz jsx po prawej

15
00:01:23,700 --> 00:01:29,130
stronie strzaki i tam naprawd chc renderowa element contactData.

16
00:01:29,430 --> 00:01:32,880
W tej chwili, tak samo jak wczeniej, jeli zapisz to,

17
00:01:32,880 --> 00:01:36,180
widz, e nadal widz dane kontaktowe dla tej trasy.

18
00:01:36,450 --> 00:01:44,700
Poniewa jednak teraz renderuj to rcznie, mog przekazywa do niego rekwizyty i tutaj, dodam moje skadniki jako rekwizyt

19
00:01:44,730 --> 00:01:54,760
i odnosimy si do tego. stan. Skadniki. Dziki tej konfiguracji, jeli teraz przejd

20
00:01:54,760 --> 00:02:01,610
do danych kontaktowych tutaj, mog oczywicie uzyska dostp do skadnikw na rekwizytach, poniewa wanie ustawiem t waciwo.

21
00:02:01,930 --> 00:02:03,570
Teraz zobaczmy, jak

22
00:02:03,580 --> 00:02:12,370
si zjednoczysz, jeli to zapisz i zbuduj nowego burgera, ebymy mieli prawdziwego burgera, a ja klikn

23
00:02:12,460 --> 00:02:21,520
dalej i kliknij kolejno, niestety to po prostu przeadowaem stron, bo jestemy w formularzu, to jest

24
00:02:21,520 --> 00:02:28,000
co, co to jest domylne zachowanie, ale tutaj powinienem obsuy obiekt zdarzenia

25
00:02:28,000 --> 00:02:33,900
w orderHandler i doda zdarzenie. PreventDefault, aby zapobiec domylnemu, ktry jest wysanie dania, ktrego nie chc.

26
00:02:33,910 --> 00:02:40,640
Nie chc wysya proby, poniewa podczas tego adowania mj formularz, wic po dodaniu tego, jeli sprbujemy

27
00:02:40,660 --> 00:02:43,940
tego jeszcze raz, kontynuuj, jeli teraz klikniemy porzdek,

28
00:02:44,110 --> 00:02:46,550
zobaczysz teraz, e drukujesz bekon i

29
00:02:46,600 --> 00:02:52,090
miso, mam skadniki pomylnie i ponownie, preventDefault jest wany na orderHandler na wydarzenie,

30
00:02:52,090 --> 00:02:56,980
ktre otrzymujesz automatycznie, aby zapobiec domylne, ktre mogyby by, aby wysa danie

31
00:02:56,980 --> 00:02:58,360
i ponownie zaadowa stron.

32
00:02:58,360 --> 00:03:02,930
Tak wic teraz dostajemy skadniki z przekazanymi skadnikami,

33
00:03:03,070 --> 00:03:06,880
teraz skadanie wniosku jest oczywicie atwe.

34
00:03:06,880 --> 00:03:13,630
W budowniczym hamburgerw, w ktrym skomentowaem ten kod do wysania zapytania, zabior kod i

35
00:03:13,630 --> 00:03:22,990
wyci go stamtd i dodaj go do mojego orderandandera tutaj, skomentuj go z powrotem i przy zaadowaniu tutaj, ktry pocztkowo

36
00:03:23,020 --> 00:03:25,220
jest faszywy, aby ustawi j

37
00:03:25,390 --> 00:03:32,500
na True i pokaza spinner, jeli chc. W takim razie skadniki s

38
00:03:32,500 --> 00:03:33,660
takie. rekwizyty. skadniki,

39
00:03:33,670 --> 00:03:38,470
teraz otrzymujemy skadniki. Cakowita cena tutaj to inna historia.

40
00:03:38,490 --> 00:03:41,530
czna cena tutaj jest trudna, poniewa

41
00:03:41,740 --> 00:03:46,930
teraz, Cakowita cena jest tylko obliczana i przechowywana w budowniczym burger.

42
00:03:46,960 --> 00:03:55,300
Musimy wic przekaza cakowit cen wraz ze skadnikami od budowniczego burgera

43
00:03:55,300 --> 00:03:59,910
do komponentu kasowego, do kontenera kasy.

44
00:03:59,950 --> 00:04:07,980
Wic po prostu popchn to do mojego zapytaniaParamy, popchn cen rwn, a

45
00:04:08,070 --> 00:04:11,720
potem to. stan. total (price),

46
00:04:11,760 --> 00:04:19,080
dziki czemu jest rwnie przekazywany jako parametr zapytania. To oczywicie oznacza rwnie, e musz go wprowadzi do

47
00:04:19,080 --> 00:04:20,500
mojego komponentu check out.

48
00:04:20,520 --> 00:04:26,100
Teraz zaptlaem wszystkie skadniki, a nastpnie naciskam na moj tablic skadnikw, cakowita nagroda oczywicie

49
00:04:26,100 --> 00:04:28,530
nie jest skadnikiem, wic nie powinienem

50
00:04:28,740 --> 00:04:31,030
wkada jej do tej tablicy.

51
00:04:31,230 --> 00:04:38,420
Zamiast tego bd musia sprawdzi, czy parametr [0] jest rwny cenie i jest to

52
00:04:38,430 --> 00:04:42,150
oczywicie tylko rodzaj pracy. Znajdziemy lepszy sposb

53
00:04:42,180 --> 00:04:50,790
na obsuenie tego stanu i przekazanie go do tego innego kontenera pniej w tym kursie ,

54
00:04:50,790 --> 00:04:51,890
bez obaw.

55
00:04:51,930 --> 00:04:54,990
Wic tutaj sprawdz, czy parametr jest

56
00:04:54,990 --> 00:04:58,080
cen, wic ten param wanie tutaj

57
00:04:58,080 --> 00:05:05,010
ustawiem, jeli to cena, to nie chc dodawa go do mojego obiektu skadnikw tutaj,

58
00:05:05,040 --> 00:05:09,350
w innym przypadku to kiedy chc robi e.

59
00:05:09,750 --> 00:05:18,090
Tak wic, jeli mamy t cen, dodam tutaj zmienn cenow, ktra, powiedzmy 0 lub null, cokolwiek lubisz, a nastpnie tutaj,

60
00:05:18,120 --> 00:05:23,990
ustawi cen rwn parametrowi [1], poniewa teraz wiem, e dobrze , Jestem w elemencie

61
00:05:24,060 --> 00:05:30,150
cenowym, wyodrbnijmy warto ceny i zapiszmy j w tej zmiennej cenowej, a nastpnie mog

62
00:05:30,150 --> 00:05:36,930
rwnie ustawi tutaj stan i ustawi stan na cakowit cen rwn cenie, co mam w tej

63
00:05:36,930 --> 00:05:44,310
zmiennej i ja ". Tutaj take zainicjuj cen. Nawiasem mwic, skadniki mona rwnie zainicjowa za pomoc

64
00:05:44,310 --> 00:05:47,840
wartoci null teraz, a cena za 0.

65
00:05:48,120 --> 00:05:54,140
I oczywicie jest to teraz sposb na uzyskanie ceny w skadniku kasowym.

66
00:05:54,150 --> 00:06:01,210
Teraz chc przekaza cen do danych kontaktowych, tak jak przekazuj skadniki, wic tutaj rwnie ustalona

67
00:06:01,230 --> 00:06:06,880
cena bdzie rwna temu. stan. ogem (cena).

68
00:06:06,870 --> 00:06:13,620
Teraz otrzymuj waciwo ceny w danych kontaktowych, z ktrych mog teraz skorzysta.

69
00:06:13,620 --> 00:06:20,200
Wic teraz mog rwnie uzyska cen za rekwizyty. rekwizyty. Cena .

70
00:06:20,370 --> 00:06:27,240
Teraz druga cz tutaj, mgbym ju poczy to z moimi danymi wejciowymi, ale nie chc tego teraz robi,

71
00:06:27,240 --> 00:06:28,590
zrobimy to pniej.

72
00:06:28,590 --> 00:06:34,320
Wic na razie zostawi tu wszystkie dane, aksiosa nie ma tutaj, powodem jest

73
00:06:34,320 --> 00:06:39,070
oczywicie to, e aksios jest importowany do budowniczego hamburgera, potrzebujemy go

74
00:06:39,270 --> 00:06:46,310
tam, ale ja te potrzebuj tego importu, ktry si odsya do mojej wasnej instancji Axios, potrzebuj

75
00:06:46,310 --> 00:06:48,290
jej rwnie w danych kontaktowych.

76
00:06:48,510 --> 00:06:54,870
Tak wic dodam rwnie import aksios i tam faktycznie musimy przej o jeden dodatkowy poziom

77
00:06:54,870 --> 00:06:57,300
w ciece importu w ten sposb.

78
00:06:57,300 --> 00:07:04,020
Teraz mamy tam te aksios. Pamitaj, aby zapisa wszystkie pliki, a teraz

79
00:07:04,080 --> 00:07:10,980
zobaczysz, e po ponownym zaadowaniu aplikacji, dodaje dane kontaktowe, otrzymasz tablic dotyczc skadnikw.

80
00:07:11,130 --> 00:07:19,470
Powodem tego jest to, e wyodrbniamy skadniki tutaj w komponencie check-out, ale robimy to

81
00:07:19,500 --> 00:07:22,040
tutaj, kiedy inicjujemy stan.

82
00:07:22,220 --> 00:07:29,510
Pocztkowe skadniki tutaj s jednak puste i jeli przekazujemy je do danych kontaktowych i staramy si je

83
00:07:29,550 --> 00:07:33,860
wyrenderowa, nie dziaa to w przypadku skadnikw, ktre s zerowe.

84
00:07:34,110 --> 00:07:43,860
Aby to naprawi, moemy po prostu zmieni komponent componentDidMount na WillMount, zanim wyrenderujemy komponent potomny, mamy

85
00:07:43,860 --> 00:07:45,630
ju dostp do

86
00:07:45,630 --> 00:07:50,330
rekwizytw, dziki czemu moemy ju tam uzyska queryParams.

87
00:07:50,370 --> 00:07:56,610
i robimy to w momencie, w ktrym nie robimy dzieci, wic moemy ustawi stan

88
00:07:56,610 --> 00:07:57,920
przed renderowaniem dzieci.

89
00:07:57,930 --> 00:08:03,460
Teraz, jeli wrcimy do danych kontaktowych, to teraz wszystko powinno dziaa tutaj.

90
00:08:03,480 --> 00:08:10,070
Teraz jedn rzecz, ktr chc zrobi, jest to, e ten stan zakupw, ktry tu ustawiam, nie jest ju wymagany,

91
00:08:10,440 --> 00:08:11,520
adowanie jest stanem,

92
00:08:11,520 --> 00:08:12,930
ktrego jeszcze nie uywam.

93
00:08:12,930 --> 00:08:21,690
A teraz, jeli wrcimy do aplikacji i zbudujemy prawdziwego burgera, klikn teraz polecenie i

94
00:08:21,690 --> 00:08:23,920
przejd do odprawy tutaj.

95
00:08:24,300 --> 00:08:27,800
Jeli teraz klikn tutaj dalej i kliknij zamwienie,

96
00:08:27,840 --> 00:08:35,070
nie otrzymamy informacji zwrotnej tutaj, ale jeli teraz sprawdzimy nasz baz danych bazy ogniowej, powinnimy zobaczy, e

97
00:08:35,070 --> 00:08:38,010
to nowe zamwienie zostanie umieszczone na kocu tutaj.

98
00:08:38,010 --> 00:08:43,390
Teraz, co jest przechowywane w bazie firewall, zakoczmy t konfiguracj danymi kontaktowymi tutaj.

99
00:08:43,530 --> 00:08:49,440
korzystajc ze stanu adowania i pokazujc spinner oraz przekierowujc uytkownika

100
00:08:49,530 --> 00:08:50,620
po zakoczeniu.

101
00:08:50,740 --> 00:08:53,030
Teraz zacznijmy od

102
00:08:53,040 --> 00:08:57,120
spinnera, moemy oczywicie zaimportowa komponent spinnera.

103
00:08:57,150 --> 00:09:00,600
Dodajmy szybko, e, importujemy spinner od, a

104
00:09:00,600 --> 00:09:08,160
teraz musimy przej do folderu components tam do folderu UI tam mamy spinner i tam

105
00:09:08,240 --> 00:09:12,390
jest plik spinnera i kiedy wyprowadzasz ten spinner

106
00:09:12,930 --> 00:09:17,450
tak dugo, jak adujemy. Wic tutaj w metodzie

107
00:09:17,580 --> 00:09:23,790
renderowania dodam moj zmienn formularza, ktra jest domylnie ustawiona w

108
00:09:23,790 --> 00:09:33,060
tym miejscu, ale jeli tak. stan. adowanie jest prawdziwe, wtedy forma bdzie faktycznie tym komponentem przdzarki.

109
00:09:33,120 --> 00:09:40,840
Wic pozwl mi pobra formularz od dou, ten element formularza, wskazaem na zmienn formularza tutaj, a potem,

110
00:09:41,220 --> 00:09:47,880
po prostu wypisz tutaj form, ta zmienna formularza, ktra jest albo form, albo spinnerem.

111
00:09:48,310 --> 00:09:52,200
Zobaczmy teraz, czy to si krci, i

112
00:09:52,290 --> 00:09:55,270
przedstawi ten nieprawidowy element tutaj.

113
00:09:55,290 --> 00:09:56,120
Widzimy spinner,

114
00:09:56,130 --> 00:09:57,480
wic to dziaa.

115
00:09:57,480 --> 00:10:00,710
Teraz upewnijmy si, e przekierowujemy, gdy skoczymy.

116
00:10:00,840 --> 00:10:08,920
Teraz, aby przekierowa tutaj, normalnie moglibymy to uruchomi. rekwizyty. histori, ten obiekt historii, ktry dostajemy

117
00:10:08,920 --> 00:10:12,870
przez router, a nastpnie pchamy na przykad do strony trasy.

118
00:10:13,030 --> 00:10:19,840
Jednak ze wzgldu na rezygnacj z adowania danych kontaktowych przez zasadniczo renderowanie ich tutaj

119
00:10:19,900 --> 00:10:25,310
rcznie za pomoc metody renderowania, nie mamy tam dostpnego obiektu historii.

120
00:10:25,510 --> 00:10:28,550
Teraz moemy to naprawi na dwa

121
00:10:28,600 --> 00:10:36,210
sposoby, jednym jest to, e moemy zawin komponent danych kontaktowych za pomoc metody pomocnika routera.

122
00:10:36,520 --> 00:10:44,260
Drugim byoby przekazanie historii, ktr otrzymujemy w rekwizytach tej metody renderowania,

123
00:10:44,560 --> 00:10:46,770
na dane kontaktowe.

124
00:10:46,810 --> 00:10:55,990
Teraz wykorzystam rekwizyty, ktre otrzymam w tej metodzie renderowania, a ja po prostu rozprowadz je tutaj po przejciu

125
00:10:56,020 --> 00:11:03,850
przez moje wasne rekwizyty za pomoc nawiasw klamrowych. To, co dostan w rekwizytach, zostanie przekazane do

126
00:11:03,850 --> 00:11:04,260
danych

127
00:11:04,270 --> 00:11:11,360
kontaktowych i dlatego, e bdzie to obiekt historii, ta metoda powinna dziaa tutaj.

128
00:11:11,680 --> 00:11:19,570
Wic teraz, jeli zbudowaem nowego hamburgera ponownie kliknij polecenie teraz, kliknij przycisk Kontynuuj i kliknij tutaj, tutaj,

129
00:11:19,630 --> 00:11:23,560
to rzeczywicie popycha mnie z powrotem do strony pocztkowej.

130
00:11:23,650 --> 00:11:28,510
Tak wic jest to strona do sprawdzenia i proces si zakoczy,

131
00:11:28,540 --> 00:11:34,060
oczywicie nadal pewne rzeczy, ktre moemy tam zrobi odnonie formularza, ale zajmiemy

132
00:11:34,060 --> 00:11:36,120
si tym w module formularza.

133
00:11:36,130 --> 00:11:40,980
Skupmy si teraz na stronie zamwie, kolejnej stronie, ktrej

134
00:11:40,990 --> 00:11:42,070
zdecydowanie potrzebujemy.

