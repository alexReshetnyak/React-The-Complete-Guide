1
00:00:02,290 --> 00:00:09,130
Manejar los errores localmente en los componentes tiene mucho sentido porque probablemente quiera hacer cosas diferentes con

2
00:00:09,130 --> 00:00:12,900
errores dependiendo del componente en el que se encuentre.

3
00:00:12,910 --> 00:00:17,410
Quizs aqu quieras mostrar algo que sali mal y un componente integral en el que quieras mostrar

4
00:00:17,410 --> 00:00:17,980
algo diferente.

5
00:00:18,070 --> 00:00:22,650
Pero a veces, en algunos lugares, tal vez quieras ejecutar algn cdigo globalmente.

6
00:00:22,660 --> 00:00:31,480
Por lo tanto, no importa qu solicitud HTP enve desde qu componente desea hacer algo cuando se

7
00:00:31,480 --> 00:00:35,950
enva esa solicitud o cuando la respuesta retorna.

8
00:00:36,370 --> 00:00:41,190
Puedes hacerlo con X aos con la ayuda de los llamados iniciadores de intereses.

9
00:00:41,200 --> 00:00:47,470
Estas son funciones que puede definir globalmente, que se ejecutarn por cada solicitud que deje su aplicacin

10
00:00:47,650 --> 00:00:50,370
y cada respuesta que regrese a ella.

11
00:00:50,380 --> 00:00:56,830
Es especialmente til, por ejemplo, para configurar algunos encabezados comunes como el encabezado de oferta o

12
00:00:57,220 --> 00:00:58,980
quizs para las respuestas.

13
00:00:58,990 --> 00:01:06,670
Si desea registrar respuestas o 1 para manejar errores globalmente, le mostrar cmo agregar interceptores

14
00:01:06,670 --> 00:01:08,400
en esta conferencia.

15
00:01:08,410 --> 00:01:14,200
Vayamos al siguiente archivo genio porque este es el archivo ms global que tenemos una aplicacin de cambio de hora.

16
00:01:14,260 --> 00:01:19,740
Es un archivo profundo en el que realmente comenzamos nuestra reaccin montndolo hasta el amanecer.

17
00:01:19,780 --> 00:01:28,000
As que aqu ahora tambin quiero importar x aos del paquete Xs y todas estas importaciones de X aos

18
00:01:28,000 --> 00:01:31,060
en realidad todas comparten la misma configuracin.

19
00:01:31,120 --> 00:01:37,600
Entonces, esa es la razn por la cual no podemos usar el acceso aqu, y una X es un objeto especial de establecimiento de intereses.

20
00:01:37,660 --> 00:01:43,300
Y de nuevo, esto se compartir no solo en este archivo, sino en todos los archivos de su proyecto.

21
00:01:43,300 --> 00:01:47,130
Por lo tanto, afectar todas las solicitudes indicadas desde cualquier lugar de su aplicacin.

22
00:01:47,560 --> 00:01:55,790
Ah podemos acceder al objeto de solicitud y ahora simplemente agregar uso para registrar un nuevo interceptor que le

23
00:01:55,790 --> 00:02:03,540
interese a Sadr toma una funcin como entrada que recibe el conflicto o la solicitud que podra decir.

24
00:02:03,670 --> 00:02:10,330
Ahora simplemente bloqueemos esa solicitud para que se cancele por ahora para que podamos ver qu hay dentro de ella.

25
00:02:10,330 --> 00:02:15,770
Lo estoy llamando solicitud, pero principalmente es solo para solicitar conflictos que es importante tener en cuenta.

26
00:02:15,820 --> 00:02:17,340
Ahora vamos a guardar esto.

27
00:02:17,740 --> 00:02:21,020
Y si volvemos a la aplicacin, podemos ver algo en el registro.

28
00:02:21,090 --> 00:02:28,450
La solicitud de ISDE a la que se envi la configuracin de la solicitud al menos usted ve los encabezados que se

29
00:02:28,780 --> 00:02:29,280
agregan y.

30
00:02:29,350 --> 00:02:29,760
S.

31
00:02:29,800 --> 00:02:31,580
Esta es nuestra solicitud.

32
00:02:31,660 --> 00:02:35,070
Esto es lo que recibimos aqu cuando recibimos las publicaciones.

33
00:02:35,320 --> 00:02:41,300
Ahora algo sali mal aqu porque en realidad estamos bloqueando sus solicitudes en este momento.

34
00:02:41,590 --> 00:02:50,520
En su funcin de establecimiento de intereses aqu, siempre debe devolver la solicitud o la solicitud.

35
00:02:50,830 --> 00:02:53,260
De lo contrario, ests bloqueando la solicitud.

36
00:02:53,260 --> 00:02:58,360
Ahora, por supuesto, tambin puede editar el conflicto de solicitud antes de devolverlo.

37
00:02:58,360 --> 00:03:00,230
Esa es la idea detrs del interceptor.

38
00:03:00,310 --> 00:03:03,260
Puedes agregar encabezados para hacer cosas as.

39
00:03:03,610 --> 00:03:09,360
Entonces, si guardamos esto, obtenemos las publicaciones y si hago clic en una, ver un bloqueo numrico porque se envi

40
00:03:09,370 --> 00:03:11,410
una solicitud de nmero y cuatro muertos.

41
00:03:11,410 --> 00:03:15,690
El interceptor tambin se ejecut aunque fue disparado desde un componente diferente.

42
00:03:15,760 --> 00:03:21,580
Como dije, todos los componentes en todas las reas de Europa estn cubiertos con eso.

43
00:03:22,180 --> 00:03:24,480
Ahora para el interceptor muerto aqu.

44
00:03:24,640 --> 00:03:31,210
Tambin podemos pasar una segunda funcin adems de esa funcin de cambio de configuracin de solicitud.

45
00:03:31,210 --> 00:03:35,150
Podemos agregar una funcin que maneje cualquier error.

46
00:03:35,260 --> 00:03:40,060
Entonces aqu podemos registrar un error como este.

47
00:03:40,090 --> 00:03:47,860
con el mtodo de captura si tiene alguna tarea local que desee hacer, como mostrar algo en la interfaz de usuario pero tambin

48
00:03:47,860 --> 00:03:53,590
globalmente desea registrarlo en el archivo de registro que enva a un servidor o algo as.

49
00:03:53,590 --> 00:04:00,340
Tambin deberamos devolver aqu el error de rechazo de promesas, de modo que todava lo reenviamos a nuestra solicitud, ya

50
00:04:00,340 --> 00:04:04,040
que lo escribi en un componente donde podemos manejarlo de nuevo

51
00:04:04,450 --> 00:04:05,930
Entonces veamos cmo funciona esto.

52
00:04:05,950 --> 00:04:13,510
Si ahora guardo ese archivo y ahora giro mis publicaciones mis publicaciones no vuelves a ser vlido.

53
00:04:15,200 --> 00:04:21,410
Ahora ve que algo sali mal aqu pero en realidad no ve mucho los costos del manejador

54
00:04:21,410 --> 00:04:23,020
de errores del interceptor.

55
00:04:23,090 --> 00:04:28,390
La razn de esto es que este airier est relacionado con el envo de la solicitud.

56
00:04:28,430 --> 00:04:32,900
Por ejemplo, si no tienes conectividad a Internet o algo as debera aparecer.

57
00:04:33,080 --> 00:04:40,670
Por lo tanto, si solicita enviar Fales, tambin podemos agregar un interceptor para manejar las respuestas, aunque lo hacemos de la misma manera

58
00:04:40,670 --> 00:04:46,190
que lo hace para la solicitud, pero usamos el objeto de respuesta en el objeto de interceptores.

59
00:04:46,190 --> 00:04:52,470
Entonces tambin usamos dos funciones aqu una funcin y la estoy copiando desde arriba.

60
00:04:52,670 --> 00:05:00,250
Una funcin que recibir la respuesta correcta tambin podemos registrarla aqu y debemos devolverla para que

61
00:05:00,350 --> 00:05:05,370
podamos seguir usndola en el componente en el bloque then.

62
00:05:05,450 --> 00:05:11,390
As que esa es una forma en que deberamos devolverlo y todos buscamos errores y tambin deberamos volver

63
00:05:11,600 --> 00:05:16,760
a verificarlos aqu para poder manejarlos en el bloque de catch localmente en un componente.

64
00:05:16,790 --> 00:05:23,150
pap agreg esa respuesta y dijo o agreg y la funcin de error est presente ahora, volvemos.

65
00:05:23,150 --> 00:05:23,930
Ahora si

66
00:05:23,930 --> 00:05:28,330
De hecho, vemos el registro aqu y an lo manejamos localmente.

67
00:05:28,730 --> 00:05:30,790
Entonces ambos trabajos.

68
00:05:30,800 --> 00:05:33,760
Si ahora voy al contenedor de bloque y giro mi.

69
00:05:33,760 --> 00:05:36,170
Le conducen a un vlido que est enfermo otra vez.

70
00:05:36,380 --> 00:05:39,350
Vemos solo un bloqueo para la respuesta.

71
00:05:39,350 --> 00:05:43,460
As que esto proviene del interceptor, como puede ver por el nombre del archivo y el nmero de lnea.

72
00:05:43,730 --> 00:05:52,160
es otra manera, por supuesto, de manipular potencialmente esa respuesta aqu o iniciar sesin o hacer lo que quieras.

73
00:05:52,160 --> 00:05:53,260
Y esta

74
00:05:53,360 --> 00:05:57,740
Entonces, poder definir interceptores Deis puede ser bastante poderoso.

75
00:05:57,770 --> 00:06:04,640
De nuevo, un caso de uso muy comn es que el interceptor de solicitud agregue algunos encabezados comunes.

76
00:06:04,640 --> 00:06:13,970
Por ejemplo, un encabezado de autorizacin, aunque tambin tenemos una forma diferente de acceder a la configuracin de acceso global.

77
00:06:13,970 --> 00:06:16,580
Te mostrar cmo funciona esto en la siguiente imagen.

